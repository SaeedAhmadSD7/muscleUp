(function(){"use strict";var t=this,i=t.Chart,e=function(t){return this.canvas=t.canvas,this.ctx=t,this.width=t.canvas.width,this.height=t.canvas.height,this.aspectRatio=this.width/this.height,n.retinaScale(this),this};e.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},e.types={};var n=e.helpers={},s=n.each=function(t,i,e){var n=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var s;for(s=0;s<t.length;s++)i.apply(e,[t[s],s].concat(n))}else for(var o in t)i.apply(e,[t[o],o].concat(n))},o=n.clone=function(t){var i={};return s(t,function(e,n){t.hasOwnProperty(n)&&(i[n]=e)}),i},a=n.extend=function(t){return s(Array.prototype.slice.call(arguments,1),function(i){s(i,function(e,n){i.hasOwnProperty(n)&&(t[n]=e)})}),t},r=n.merge=function(t,i){var e=Array.prototype.slice.call(arguments,0);return e.unshift({}),a.apply(null,e)},l=n.indexOf=function(t,i){if(Array.prototype.indexOf)return t.indexOf(i);for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1},h=(n.where=function(t,i){var e=[];return n.each(t,function(t){i(t)&&e.push(t)}),e},n.findNextWhere=function(t,i,e){e||(e=-1);for(var n=e+1;n<t.length;n++){var s=t[n];if(i(s))return s}},n.findPreviousWhere=function(t,i,e){e||(e=t.length);for(var n=e-1;n>=0;n--){var s=t[n];if(i(s))return s}},n.inherits=function(t){var i=this,e=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},n=function(){this.constructor=e};return n.prototype=i.prototype,e.prototype=new n,e.extend=h,t&&a(e.prototype,t),e.__super__=i.prototype,e}),c=n.noop=function(){},u=n.uid=function(){var t=0;return function(){return"chart-"+t++}}(),p=n.warn=function(t){window.console&&"function"==typeof window.console.warn&&void 0},d=n.amd="function"==typeof define&&define.amd,f=n.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=n.max=function(t){return Math.max.apply(Math,t)},m=n.min=function(t){return Math.min.apply(Math,t)},x=(n.cap=function(t,i,e){if(f(i)){if(t>i)return i}else if(f(e)&&e>t)return e;return t},n.getDecimalPlaces=function(t){return t%1!==0&&f(t)?t.toString().split(".")[1].length:0}),v=n.radians=function(t){return t*(Math.PI/180)},b=(n.getAngleFromPoint=function(t,i){var e=i.x-t.x,n=i.y-t.y,s=Math.sqrt(e*e+n*n),o=2*Math.PI+Math.atan2(n,e);return 0>e&&0>n&&(o+=2*Math.PI),{angle:o,distance:s}},n.aliasPixel=function(t){return t%2===0?0:.5}),y=(n.splineCurve=function(t,i,e,n){var s=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),o=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)),a=n*s/(s+o),r=n*o/(s+o);return{inner:{x:i.x-a*(e.x-t.x),y:i.y-a*(e.y-t.y)},outer:{x:i.x+r*(e.x-t.x),y:i.y+r*(e.y-t.y)}}},n.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),w=(n.calculateScaleRange=function(t,i,e,n,s){var o=2,a=Math.floor(i/(1.5*e)),r=o>=a,l=g(t),h=m(t);l===h&&(l+=.5,h>=.5&&!n?h-=.5:l+=.5);for(var c=Math.abs(l-h),u=y(c),p=Math.ceil(l/(1*Math.pow(10,u)))*Math.pow(10,u),d=n?0:Math.floor(h/(1*Math.pow(10,u)))*Math.pow(10,u),f=p-d,x=Math.pow(10,u),v=Math.round(f/x);(v>a||a>2*v)&&!r;)if(v>a)x*=2,v=Math.round(f/x),v%1!==0&&(r=!0);else if(s&&u>=0){if(x/2%1!==0)break;x/=2,v=Math.round(f/x)}else x/=2,v=Math.round(f/x);return r&&(v=o,x=f/v),{steps:v,stepValue:x,min:d,max:d+v*x}},n.template=function(t,i){function e(t,i){var e=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):n[t]=n[t];return i?e(i):e}if(t instanceof Function)return t(i);var n={};return e(t,i)}),k=(n.generateLabels=function(t,i,e,n){var o=new Array(i);return labelTemplateString&&s(o,function(i,s){o[s]=w(t,{value:e+n*(s+1)})}),o},n.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var i=1.70158,e=0,n=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),n<Math.abs(1)?(n=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/n),-(n*Math.pow(2,10*(t-=1))*Math.sin((1*t-i)*(2*Math.PI)/e)))},easeOutElastic:function(t){var i=1.70158,e=0,n=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),n<Math.abs(1)?(n=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((1*t-i)*(2*Math.PI)/e)+1)},easeInOutElastic:function(t){var i=1.70158,e=0,n=1;return 0===t?0:2==(t/=.5)?1:(e||(e=1*(.3*1.5)),n<Math.abs(1)?(n=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/n),1>t?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((1*t-i)*(2*Math.PI)/e)):n*Math.pow(2,-10*(t-=1))*Math.sin((1*t-i)*(2*Math.PI)/e)*.5+1)},easeInBack:function(t){var i=1.70158;return 1*(t/=1)*t*((i+1)*t-i)},easeOutBack:function(t){var i=1.70158;return 1*((t=t/1-1)*t*((i+1)*t+i)+1)},easeInOutBack:function(t){var i=1.70158;return(t/=.5)<1?.5*(t*t*(((i*=1.525)+1)*t-i)):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},easeInBounce:function(t){return 1-k.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*k.easeInBounce(2*t):.5*k.easeOutBounce(2*t-1)+.5}}),C=n.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),S=(n.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),n.animationLoop=function(t,i,e,n,s,o){var a=0,r=k[e]||k.linear,l=function(){a++;var e=a/i,h=r(e);t.call(o,h,e,a),n.call(o,h,e),i>a?o.animationFrame=C(l):s.apply(o)};C(l)},n.getRelativePosition=function(t){var i,e,n=t.originalEvent||t,s=t.currentTarget||t.srcElement,o=s.getBoundingClientRect();return n.touches?(i=n.touches[0].clientX-o.left,e=n.touches[0].clientY-o.top):(i=n.clientX-o.left,e=n.clientY-o.top),{x:i,y:e}},n.addEvent=function(t,i,e){t.addEventListener?t.addEventListener(i,e):t.attachEvent?t.attachEvent("on"+i,e):t["on"+i]=e}),M=n.removeEvent=function(t,i,e){t.removeEventListener?t.removeEventListener(i,e,!1):t.detachEvent?t.detachEvent("on"+i,e):t["on"+i]=c},R=(n.bindEvents=function(t,i,e){t.events||(t.events={}),s(i,function(i){t.events[i]=function(){e.apply(t,arguments)},S(t.chart.canvas,i,t.events[i])})},n.unbindEvents=function(t,i){s(i,function(i,e){M(t.chart.canvas,e,i)})}),P=n.getMaximumWidth=function(t){var i=t.parentNode;return i.clientWidth},T=n.getMaximumHeight=function(t){var i=t.parentNode;return i.clientHeight},A=(n.getMaximumSize=n.getMaximumWidth,n.retinaScale=function(t){var i=t.ctx,e=t.canvas.width,n=t.canvas.height;window.devicePixelRatio&&(i.canvas.style.width=e+"px",i.canvas.style.height=n+"px",i.canvas.height=n*window.devicePixelRatio,i.canvas.width=e*window.devicePixelRatio,i.scale(window.devicePixelRatio,window.devicePixelRatio))}),F=n.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},W=n.fontString=function(t,i,e){return i+" "+t+"px "+e},I=n.longestText=function(t,i,e){t.font=i;var n=0;return s(e,function(i){var e=t.measureText(i).width;n=e>n?e:n}),n},L=n.drawRoundedRectangle=function(t,i,e,n,s,o){t.beginPath(),t.moveTo(i+o,e),t.lineTo(i+n-o,e),t.quadraticCurveTo(i+n,e,i+n,e+o),t.lineTo(i+n,e+s-o),t.quadraticCurveTo(i+n,e+s,i+n-o,e+s),t.lineTo(i+o,e+s),t.quadraticCurveTo(i,e+s,i,e+s-o),t.lineTo(i,e+o),t.quadraticCurveTo(i,e,i+o,e),t.closePath()};e.instances={},e.Type=function(t,i,n){this.options=i,this.chart=n,this.id=u(),e.instances[this.id]=this,i.responsive&&this.resize(),this.initialize.call(this,t)},a(e.Type.prototype,{initialize:function(){return this},clear:function(){return F(this.chart),this},stop:function(){return n.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var i=this.chart.canvas,e=P(this.chart.canvas),n=this.options.maintainAspectRatio?e/this.chart.aspectRatio:T(this.chart.canvas);return i.width=this.chart.width=e,i.height=this.chart.height=n,A(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?n.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return w(this.options.legendTemplate,this)},destroy:function(){this.clear(),R(this,this.events),delete e.instances[this.id]},showTooltip:function(t,i){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var i=!1;return t.length!==this.activeElements.length?i=!0:(s(t,function(t,e){t!==this.activeElements[e]&&(i=!0)},this),i)}.call(this,t);if(o||i){if(this.activeElements=t,this.draw(),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,r,h=this.datasets.length-1;h>=0&&(a=this.datasets[h].points||this.datasets[h].bars||this.datasets[h].segments,r=l(a,t[0]),-1===r);h--);var c=[],u=[],p=function(t){var i,e,s,o,a,l=[],h=[],p=[];return n.each(this.datasets,function(t){i=t.points||t.bars||t.segments,i[r]&&i[r].hasValue()&&l.push(i[r])}),n.each(l,function(t){h.push(t.x),p.push(t.y),c.push(n.template(this.options.multiTooltipTemplate,t)),u.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),a=m(p),s=g(p),o=m(h),e=g(h),{x:o>this.chart.width/2?o:e,y:(a+s)/2}}.call(this,r);new e.MultiTooltip({x:p.x,y:p.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx}).draw()}else s(t,function(t){var i=t.tooltipPosition();new e.Tooltip({x:Math.round(i.x),y:Math.round(i.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:w(this.options.tooltipTemplate,t),chart:this.chart}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),e.Type.extend=function(t){var i=this,n=function(){return i.apply(this,arguments)};if(n.prototype=o(i.prototype),a(n.prototype,t),n.extend=e.Type.extend,t.name||i.prototype.name){var s=t.name||i.prototype.name,l=e.defaults[i.prototype.name]?o(e.defaults[i.prototype.name]):{};e.defaults[s]=a(l,t.defaults),e.types[s]=n,e.prototype[s]=function(t,i){var o=r(e.defaults.global,e.defaults[s],i||{});return new n(t,o,this)}}else p("Name not provided for this chart, so it hasn't been registered");return i},e.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(e.Element.prototype,{initialize:function(){},restore:function(t){return t?s(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return s(t,function(t,i){this._saved[i]=this[i],this[i]=t},this),this},transition:function(t,i){return s(t,function(t,e){this[e]=(t-this._saved[e])*i+this._saved[e]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),e.Element.extend=h,e.Point=e.Element.extend({display:!0,inRange:function(t,i){var e=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(i-this.y,2)<Math.pow(e,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),e.Arc=e.Element.extend({inRange:function(t,i){var e=n.getAngleFromPoint(this,{x:t,y:i}),s=e.angle>=this.startAngle&&e.angle<=this.endAngle,o=e.distance>=this.innerRadius&&e.distance<=this.outerRadius;return s&&o},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,i=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*i,y:this.y+Math.sin(t)*i}},draw:function(t){var i=this.ctx;i.beginPath(),i.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),i.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),i.closePath(),i.strokeStyle=this.strokeColor,i.lineWidth=this.strokeWidth,i.fillStyle=this.fillColor,i.fill(),i.lineJoin="bevel",this.showStroke&&i.stroke()}}),e.Rectangle=e.Element.extend({draw:function(){var t=this.ctx,i=this.width/2,e=this.x-i,n=this.x+i,s=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(e+=o,n-=o,s+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(e,this.base),t.lineTo(e,s),t.lineTo(n,s),t.lineTo(n,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,i){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&i>=this.y&&i<=this.base}}),e.Tooltip=e.Element.extend({draw:function(){var t=this.chart.ctx;t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var i=2,e=t.measureText(this.text).width+2*this.xPadding,n=this.fontSize+2*this.yPadding,s=n+this.caretHeight+i;this.x+e/2>this.chart.width?this.xAlign="left":this.x-e/2<0&&(this.xAlign="right"),this.y-s<0&&(this.yAlign="below");var o=this.x-e/2,a=this.y-s;switch(t.fillStyle=this.fillColor,this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-i),t.lineTo(this.x+this.caretHeight,this.y-(i+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(i+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+i+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+i),t.lineTo(this.x+this.caretHeight,this.y+i+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+i+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":o=this.x-e+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}L(t,o,a,e,n,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,o+e/2,a+n/2)}}),e.MultiTooltip=e.Element.extend({initialize:function(){this.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=W(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,i=I(this.ctx,this.font,this.labels)+this.fontSize+3,e=g([i,t]);this.width=e+2*this.xPadding;var n=this.height/2;this.y-n<0?this.y=n:this.y+n>this.chart.height&&(this.y=this.chart.height-n),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var i=this.y-this.height/2+this.yPadding,e=t-1;return 0===t?i+this.titleFontSize/2:i+(1.5*this.fontSize*e+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){L(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,n.each(this.labels,function(i,e){t.fillStyle=this.textColor,t.fillText(i,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(e+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[e].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}),e.Scale=e.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=x(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(w(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?I(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,i=this.endPoint-this.startPoint;for(this.calculateYRange(i),this.buildYLabels(),this.calculateXLabelRotation();i>this.endPoint-this.startPoint;)i=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(i),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,i,e=this.ctx.measureText(this.xLabels[0]).width,n=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=n/2+3,this.xScalePaddingLeft=e/2>this.yLabelWidth+10?e/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var s,o=I(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)s=Math.cos(v(this.xLabelRotation)),t=s*e,i=s*n,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=s*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(v(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var i=this.drawingArea()/(this.min-this.max);return this.endPoint-i*(t-this.min)},calculateX:function(t){var i=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),e=i/(this.valuesCount-(this.offsetGridLines?0:1)),n=e*t+this.xScalePaddingLeft;return this.offsetGridLines&&(n+=e/2),Math.round(n)},update:function(t){n.extend(this,t),this.fit()},draw:function(){var t=this.ctx,i=(this.endPoint-this.startPoint)/this.steps,e=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,s(this.yLabels,function(s,o){var a=this.endPoint-i*o,r=Math.round(a);t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(s,e-10,a),t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),r+=n.aliasPixel(t.lineWidth),t.moveTo(e,r),t.lineTo(this.width,r),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(e-5,r),t.lineTo(e,r),t.stroke(),t.closePath()},this),s(this.xLabels,function(i,e){var n=this.calculateX(e)+b(this.lineWidth),s=this.calculateX(e-(this.offsetGridLines?.5:0))+b(this.lineWidth),o=this.xLabelRotation>0;t.beginPath(),e>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),t.moveTo(s,this.endPoint),t.lineTo(s,this.startPoint-3),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(s,this.endPoint),t.lineTo(s,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(n,o?this.endPoint+12:this.endPoint+8),t.rotate(-1*v(this.xLabelRotation)),t.font=this.font,t.textAlign=o?"right":"center",t.textBaseline=o?"middle":"top",t.fillText(i,0,0),t.restore()},this))}}),e.RadialScale=e.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var i=this.drawingArea/(this.max-this.min);return(t-this.min)*i},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=x(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(w(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,i,e,n,s,o,a,r,l,h,c,u,p=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),d=this.width,g=0;for(this.ctx.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),i=0;i<this.valuesCount;i++)t=this.getPointPosition(i,p),e=this.ctx.measureText(w(this.templateString,{value:this.labels[i]})).width+5,0===i||i===this.valuesCount/2?(n=e/2,t.x+n>d&&(d=t.x+n,s=i),t.x-n<g&&(g=t.x-n,a=i)):i<this.valuesCount/2?t.x+e>d&&(d=t.x+e,s=i):i>this.valuesCount/2&&t.x-e<g&&(g=t.x-e,a=i);l=g,h=Math.ceil(d-this.width),o=this.getIndexAngle(s),r=this.getIndexAngle(a),c=h/Math.sin(o+Math.PI/2),u=l/Math.sin(r+Math.PI/2),c=f(c)?c:0,u=f(u)?u:0,this.drawingArea=p-(u+c)/2,this.setCenterPoint(u,c)},setCenterPoint:function(t,i){var e=this.width-i-this.drawingArea,n=t+this.drawingArea;this.xCenter=(n+e)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var i=2*Math.PI/this.valuesCount;return t*i-Math.PI/2},getPointPosition:function(t,i){var e=this.getIndexAngle(t);return{x:Math.cos(e)*i+this.xCenter,y:Math.sin(e)*i+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(s(this.yLabels,function(i,e){if(e>0){var n,s=e*(this.drawingArea/this.steps),o=this.yCenter-s;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,s,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)n=this.getPointPosition(a,this.calculateCenterOffset(this.min+e*this.stepValue)),0===a?t.moveTo(n.x,n.y):t.lineTo(n.x,n.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var r=t.measureText(i).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-r/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,r+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(i,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var i=this.valuesCount-1;i>=0;i--){if(this.angleLineWidth>0){var e=this.getPointPosition(i,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(e.x,e.y),t.stroke(),t.closePath()}var n=this.getPointPosition(i,this.calculateCenterOffset(this.max)+5);t.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var o=this.labels.length,a=this.labels.length/2,r=a/2,l=r>i||i>o-r,h=i===r||i===o-r;0===i?t.textAlign="center":i===a?t.textAlign="center":a>i?t.textAlign="left":t.textAlign="right",h?t.textBaseline="middle":l?t.textBaseline="bottom":t.textBaseline="top",t.fillText(this.labels[i],n.x,n.y)}}}}}),n.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){s(e.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),d?define(function(){return e}):"object"==typeof module&&module.exports&&(module.exports=e),t.Chart=e,e.noConflict=function(){return t.Chart=i,e}}).call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,n={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Doughnut",defaults:n,initialize:function(t){this.segments=[],this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=i.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.calculateTotal(t),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.render()},getSegmentsAtEvent:function(t){var i=[],n=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(n.x,n.y)&&i.push(t)},this),i},addData:function(t,i,e){var n=i||this.segments.length;this.segments.splice(n,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),e||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),e.each(this.activeElements,function(t){t.restore(["fillColor"])}),e.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,e.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var i=t?t:1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},i),t.endAngle=t.startAngle+t.circumference,t.draw(),0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle)},this)}}),i.types.Doughnut.extend({name:"Pie",defaults:e.merge(n,{percentageInnerCutout:0})})}.call(this),$(function(){var t=[{value:300,color:"#F7464A",highlight:"#FF5A5E",label:"Red"},{value:50,color:"#46BFBD",highlight:"#5AD3D1",label:"Green"},{value:100,color:"#FDB45C",highlight:"#FFC870",label:"Yellow"},{value:40,color:"#949FB1",highlight:"#A8B3C5",label:"Grey"},{value:120,color:"#4D5360",highlight:"#616774",label:"Dark Grey"}],i=document.getElementById("chart-area").getContext("2d");window.myDoughnut=new Chart(i).Doughnut(t,{responsive:!0})}),!function(t){t.color={},t.color.make=function(i,e,n,s){var o={};return o.r=i||0,o.g=e||0,o.b=n||0,o.a=null!=s?s:1,o.add=function(t,i){for(var e=0;e<t.length;++e)o[t.charAt(e)]+=i;return o.normalize()},o.scale=function(t,i){for(var e=0;e<t.length;++e)o[t.charAt(e)]*=i;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function t(t,i,e){return t>i?t:i>e?e:i}return o.r=t(0,parseInt(o.r),255),o.g=t(0,parseInt(o.g),255),o.b=t(0,parseInt(o.b),255),o.a=t(0,o.a,1),o},o.clone=function(){return t.color.make(o.r,o.b,o.g,o.a)},o.normalize()},t.color.extract=function(i,e){var n;do{if(n=i.css(e).toLowerCase(),""!=n&&"transparent"!=n)break;i=i.parent()}while(i.length&&!t.nodeName(i.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),t.color.parse(n)},t.color.parse=function(e){var n,s=t.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))return s(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return s(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))return s(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return s(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));
if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))return s(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))return s(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var o=t.trim(e).toLowerCase();return"transparent"==o?s(255,255,255,0):(n=i[o]||[0,0,0],s(n[0],n[1],n[2]))};var i={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(t){function i(i,e){var n=e.children("."+i)[0];if(null==n&&(n=document.createElement("canvas"),n.className=i,t(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(e),!n.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}this.element=n;var s=this.context=n.getContext("2d"),o=window.devicePixelRatio||1,a=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1;this.pixelRatio=o/a,this.resize(e.width(),e.height()),this.textContainer=null,this.text={},this._textCache={}}function e(e,s,o,a){function r(t,i){i=[mt].concat(i);for(var e=0;e<t.length;++e)t[e].apply(this,i)}function l(){for(var e={Canvas:i},n=0;n<a.length;++n){var s=a[n];s.init(mt,e),s.options&&t.extend(!0,st,s.options)}}function h(i){t.extend(!0,st,i),i&&i.colors&&(st.colors=i.colors),null==st.xaxis.color&&(st.xaxis.color=t.color.parse(st.grid.color).scale("a",.22).toString()),null==st.yaxis.color&&(st.yaxis.color=t.color.parse(st.grid.color).scale("a",.22).toString()),null==st.xaxis.tickColor&&(st.xaxis.tickColor=st.grid.tickColor||st.xaxis.color),null==st.yaxis.tickColor&&(st.yaxis.tickColor=st.grid.tickColor||st.yaxis.color),null==st.grid.borderColor&&(st.grid.borderColor=st.grid.color),null==st.grid.tickColor&&(st.grid.tickColor=t.color.parse(st.grid.color).scale("a",.22).toString());var n,s,o,a=e.css("font-size"),l=a?+a.replace("px",""):13,h={style:e.css("font-style"),size:Math.round(.8*l),variant:e.css("font-variant"),weight:e.css("font-weight"),family:e.css("font-family")};for(o=st.xaxes.length||1,n=0;o>n;++n)s=st.xaxes[n],s&&!s.tickColor&&(s.tickColor=s.color),s=t.extend(!0,{},st.xaxis,s),st.xaxes[n]=s,s.font&&(s.font=t.extend({},h,s.font),s.font.color||(s.font.color=s.color),s.font.lineHeight||(s.font.lineHeight=Math.round(1.15*s.font.size)));for(o=st.yaxes.length||1,n=0;o>n;++n)s=st.yaxes[n],s&&!s.tickColor&&(s.tickColor=s.color),s=t.extend(!0,{},st.yaxis,s),st.yaxes[n]=s,s.font&&(s.font=t.extend({},h,s.font),s.font.color||(s.font.color=s.color),s.font.lineHeight||(s.font.lineHeight=Math.round(1.15*s.font.size)));for(st.xaxis.noTicks&&null==st.xaxis.ticks&&(st.xaxis.ticks=st.xaxis.noTicks),st.yaxis.noTicks&&null==st.yaxis.ticks&&(st.yaxis.ticks=st.yaxis.noTicks),st.x2axis&&(st.xaxes[1]=t.extend(!0,{},st.xaxis,st.x2axis),st.xaxes[1].position="top",null==st.x2axis.min&&(st.xaxes[1].min=null),null==st.x2axis.max&&(st.xaxes[1].max=null)),st.y2axis&&(st.yaxes[1]=t.extend(!0,{},st.yaxis,st.y2axis),st.yaxes[1].position="right",null==st.y2axis.min&&(st.yaxes[1].min=null),null==st.y2axis.max&&(st.yaxes[1].max=null)),st.grid.coloredAreas&&(st.grid.markings=st.grid.coloredAreas),st.grid.coloredAreasColor&&(st.grid.markingsColor=st.grid.coloredAreasColor),st.lines&&t.extend(!0,st.series.lines,st.lines),st.points&&t.extend(!0,st.series.points,st.points),st.bars&&t.extend(!0,st.series.bars,st.bars),null!=st.shadowSize&&(st.series.shadowSize=st.shadowSize),null!=st.highlightColor&&(st.series.highlightColor=st.highlightColor),n=0;n<st.xaxes.length;++n)m(ct,n+1).options=st.xaxes[n];for(n=0;n<st.yaxes.length;++n)m(ut,n+1).options=st.yaxes[n];for(var c in gt)st.hooks[c]&&st.hooks[c].length&&(gt[c]=gt[c].concat(st.hooks[c]));r(gt.processOptions,[st])}function c(t){nt=u(t),x(),v()}function u(i){for(var e=[],n=0;n<i.length;++n){var s=t.extend(!0,{},st.series);null!=i[n].data?(s.data=i[n].data,delete i[n].data,t.extend(!0,s,i[n]),i[n].data=s.data):s.data=i[n],e.push(s)}return e}function p(t,i){var e=t[i+"axis"];return"object"==typeof e&&(e=e.n),"number"!=typeof e&&(e=1),e}function d(){return t.grep(ct.concat(ut),function(t){return t})}function f(t){var i,e,n={};for(i=0;i<ct.length;++i)e=ct[i],e&&e.used&&(n["x"+e.n]=e.c2p(t.left));for(i=0;i<ut.length;++i)e=ut[i],e&&e.used&&(n["y"+e.n]=e.c2p(t.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function g(t){var i,e,n,s={};for(i=0;i<ct.length;++i)if(e=ct[i],e&&e.used&&(n="x"+e.n,null==t[n]&&1==e.n&&(n="x"),null!=t[n])){s.left=e.p2c(t[n]);break}for(i=0;i<ut.length;++i)if(e=ut[i],e&&e.used&&(n="y"+e.n,null==t[n]&&1==e.n&&(n="y"),null!=t[n])){s.top=e.p2c(t[n]);break}return s}function m(i,e){return i[e-1]||(i[e-1]={n:e,direction:i==ct?"x":"y",options:t.extend(!0,{},i==ct?st.xaxis:st.yaxis)}),i[e-1]}function x(){var i,e=nt.length,n=-1;for(i=0;i<nt.length;++i){var s=nt[i].color;null!=s&&(e--,"number"==typeof s&&s>n&&(n=s))}n>=e&&(e=n+1);var o,a=[],r=st.colors,l=r.length,h=0;for(i=0;e>i;i++)o=t.color.parse(r[i%l]||"#666"),i%l==0&&i&&(h=h>=0?.5>h?-h-.2:0:-h),a[i]=o.scale("rgb",1+h);var c,u=0;for(i=0;i<nt.length;++i){if(c=nt[i],null==c.color?(c.color=a[u].toString(),++u):"number"==typeof c.color&&(c.color=a[c.color].toString()),null==c.lines.show){var d,f=!0;for(d in c)if(c[d]&&c[d].show){f=!1;break}f&&(c.lines.show=!0)}null==c.lines.zero&&(c.lines.zero=!!c.lines.fill),c.xaxis=m(ct,p(c,"x")),c.yaxis=m(ut,p(c,"y"))}}function v(){function i(t,i,e){i<t.datamin&&i!=-v&&(t.datamin=i),e>t.datamax&&e!=v&&(t.datamax=e)}var e,n,s,o,a,l,h,c,u,p,f,g,m=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,v=Number.MAX_VALUE;for(t.each(d(),function(t,i){i.datamin=m,i.datamax=x,i.used=!1}),e=0;e<nt.length;++e)a=nt[e],a.datapoints={points:[]},r(gt.processRawData,[a,a.data,a.datapoints]);for(e=0;e<nt.length;++e){if(a=nt[e],f=a.data,g=a.datapoints.format,!g){if(g=[],g.push({x:!0,number:!0,required:!0}),g.push({y:!0,number:!0,required:!0}),a.bars.show||a.lines.show&&a.lines.fill){var b=!!(a.bars.show&&a.bars.zero||a.lines.show&&a.lines.zero);g.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:b}),a.bars.horizontal&&(delete g[g.length-1].y,g[g.length-1].x=!0)}a.datapoints.format=g}if(null==a.datapoints.pointsize){a.datapoints.pointsize=g.length,h=a.datapoints.pointsize,l=a.datapoints.points;var y=a.lines.show&&a.lines.steps;for(a.xaxis.used=a.yaxis.used=!0,n=s=0;n<f.length;++n,s+=h){p=f[n];var w=null==p;if(!w)for(o=0;h>o;++o)c=p[o],u=g[o],u&&(u.number&&null!=c&&(c=+c,isNaN(c)?c=null:c==1/0?c=v:c==-(1/0)&&(c=-v)),null==c&&(u.required&&(w=!0),null!=u.defaultValue&&(c=u.defaultValue))),l[s+o]=c;if(w)for(o=0;h>o;++o)c=l[s+o],null!=c&&(u=g[o],u.autoscale!==!1&&(u.x&&i(a.xaxis,c,c),u.y&&i(a.yaxis,c,c))),l[s+o]=null;else if(y&&s>0&&null!=l[s-h]&&l[s-h]!=l[s]&&l[s-h+1]!=l[s+1]){for(o=0;h>o;++o)l[s+h+o]=l[s+o];l[s+1]=l[s-h+1],s+=h}}}}for(e=0;e<nt.length;++e)a=nt[e],r(gt.processDatapoints,[a,a.datapoints]);for(e=0;e<nt.length;++e){a=nt[e],l=a.datapoints.points,h=a.datapoints.pointsize,g=a.datapoints.format;var k=m,C=m,S=x,M=x;for(n=0;n<l.length;n+=h)if(null!=l[n])for(o=0;h>o;++o)c=l[n+o],u=g[o],u&&u.autoscale!==!1&&c!=v&&c!=-v&&(u.x&&(k>c&&(k=c),c>S&&(S=c)),u.y&&(C>c&&(C=c),c>M&&(M=c)));if(a.bars.show){var R;switch(a.bars.align){case"left":R=0;break;case"right":R=-a.bars.barWidth;break;default:R=-a.bars.barWidth/2}a.bars.horizontal?(C+=R,M+=R+a.bars.barWidth):(k+=R,S+=R+a.bars.barWidth)}i(a.xaxis,k,S),i(a.yaxis,C,M)}t.each(d(),function(t,i){i.datamin==m&&(i.datamin=null),i.datamax==x&&(i.datamax=null)})}function b(){e.css("padding",0).children().filter(function(){return!t(this).hasClass("flot-overlay")&&!t(this).hasClass("flot-base")}).remove(),"static"==e.css("position")&&e.css("position","relative"),ot=new i("flot-base",e),at=new i("flot-overlay",e),lt=ot.context,ht=at.context,rt=t(at.element).unbind();var n=e.data("plot");n&&(n.shutdown(),at.clear()),e.data("plot",mt)}function y(){st.grid.hoverable&&(rt.mousemove(X),rt.bind("mouseleave",Y)),st.grid.clickable&&rt.click(V),r(gt.bindEvents,[rt])}function w(){vt&&clearTimeout(vt),rt.unbind("mousemove",X),rt.unbind("mouseleave",Y),rt.unbind("click",V),r(gt.shutdown,[rt])}function k(t){function i(t){return t}var e,n,s=t.options.transform||i,o=t.options.inverseTransform;"x"==t.direction?(e=t.scale=dt/Math.abs(s(t.max)-s(t.min)),n=Math.min(s(t.max),s(t.min))):(e=t.scale=ft/Math.abs(s(t.max)-s(t.min)),e=-e,n=Math.max(s(t.max),s(t.min))),s==i?t.p2c=function(t){return(t-n)*e}:t.p2c=function(t){return(s(t)-n)*e},o?t.c2p=function(t){return o(n+t/e)}:t.c2p=function(t){return n+t/e}}function C(t){for(var i=t.options,e=t.ticks||[],n=i.labelWidth||0,s=i.labelHeight||0,o=n||("x"==t.direction?Math.floor(ot.width/(e.length||1)):null),a=t.direction+"Axis "+t.direction+t.n+"Axis",r="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+a,l=i.font||"flot-tick-label tickLabel",h=0;h<e.length;++h){var c=e[h];if(c.label){var u=ot.getTextInfo(r,c.label,l,null,o);n=Math.max(n,u.width),s=Math.max(s,u.height)}}t.labelWidth=i.labelWidth||n,t.labelHeight=i.labelHeight||s}function S(i){var e=i.labelWidth,n=i.labelHeight,s=i.options.position,o="x"===i.direction,a=i.options.tickLength,r=st.grid.axisMargin,l=st.grid.labelMargin,h=!0,c=!0,u=!0,p=!1;t.each(o?ct:ut,function(t,e){e&&(e.show||e.reserveSpace)&&(e===i?p=!0:e.options.position===s&&(p?c=!1:h=!1),p||(u=!1))}),c&&(r=0),null==a&&(a=u?"full":5),isNaN(+a)||(l+=+a),o?(n+=l,"bottom"==s?(pt.bottom+=n+r,i.box={top:ot.height-pt.bottom,height:n}):(i.box={top:pt.top+r,height:n},pt.top+=n+r)):(e+=l,"left"==s?(i.box={left:pt.left+r,width:e},pt.left+=e+r):(pt.right+=e+r,i.box={left:ot.width-pt.right,width:e})),i.position=s,i.tickLength=a,i.box.padding=l,i.innermost=h}function M(t){"x"==t.direction?(t.box.left=pt.left-t.labelWidth/2,t.box.width=ot.width-pt.left-pt.right+t.labelWidth):(t.box.top=pt.top-t.labelHeight/2,t.box.height=ot.height-pt.bottom-pt.top+t.labelHeight)}function R(){var i,e=st.grid.minBorderMargin;if(null==e)for(e=0,i=0;i<nt.length;++i)e=Math.max(e,2*(nt[i].points.radius+nt[i].points.lineWidth/2));var n={left:e,right:e,top:e,bottom:e};t.each(d(),function(t,i){i.reserveSpace&&i.ticks&&i.ticks.length&&("x"===i.direction?(n.left=Math.max(n.left,i.labelWidth/2),n.right=Math.max(n.right,i.labelWidth/2)):(n.bottom=Math.max(n.bottom,i.labelHeight/2),n.top=Math.max(n.top,i.labelHeight/2)))}),pt.left=Math.ceil(Math.max(n.left,pt.left)),pt.right=Math.ceil(Math.max(n.right,pt.right)),pt.top=Math.ceil(Math.max(n.top,pt.top)),pt.bottom=Math.ceil(Math.max(n.bottom,pt.bottom))}function P(){var i,e=d(),n=st.grid.show;for(var s in pt){var o=st.grid.margin||0;pt[s]="number"==typeof o?o:o[s]||0}r(gt.processOffset,[pt]);for(var s in pt)"object"==typeof st.grid.borderWidth?pt[s]+=n?st.grid.borderWidth[s]:0:pt[s]+=n?st.grid.borderWidth:0;if(t.each(e,function(t,i){var e=i.options;i.show=null==e.show?i.used:e.show,i.reserveSpace=null==e.reserveSpace?i.show:e.reserveSpace,T(i)}),n){var a=t.grep(e,function(t){return t.show||t.reserveSpace});for(t.each(a,function(t,i){A(i),F(i),W(i,i.ticks),C(i)}),i=a.length-1;i>=0;--i)S(a[i]);R(),t.each(a,function(t,i){M(i)})}dt=ot.width-pt.left-pt.right,ft=ot.height-pt.bottom-pt.top,t.each(e,function(t,i){k(i)}),n&&H(),$()}function T(t){var i=t.options,e=+(null!=i.min?i.min:t.datamin),n=+(null!=i.max?i.max:t.datamax),s=n-e;if(0==s){var o=0==n?1:.01;null==i.min&&(e-=o),(null==i.max||null!=i.min)&&(n+=o)}else{var a=i.autoscaleMargin;null!=a&&(null==i.min&&(e-=s*a,0>e&&null!=t.datamin&&t.datamin>=0&&(e=0)),null==i.max&&(n+=s*a,n>0&&null!=t.datamax&&t.datamax<=0&&(n=0)))}t.min=e,t.max=n}function A(i){var e,s=i.options;e="number"==typeof s.ticks&&s.ticks>0?s.ticks:.3*Math.sqrt("x"==i.direction?ot.width:ot.height);var o=(i.max-i.min)/e,a=-Math.floor(Math.log(o)/Math.LN10),r=s.tickDecimals;null!=r&&a>r&&(a=r);var l,h=Math.pow(10,-a),c=o/h;if(1.5>c?l=1:3>c?(l=2,c>2.25&&(null==r||r>=a+1)&&(l=2.5,++a)):l=7.5>c?5:10,l*=h,null!=s.minTickSize&&l<s.minTickSize&&(l=s.minTickSize),i.delta=o,i.tickDecimals=Math.max(0,null!=r?r:a),i.tickSize=s.tickSize||l,"time"==s.mode&&!i.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(i.tickGenerator||(i.tickGenerator=function(t){var i,e=[],s=n(t.min,t.tickSize),o=0,a=Number.NaN;do i=a,a=s+o*t.tickSize,e.push(a),++o;while(a<t.max&&a!=i);return e},i.tickFormatter=function(t,i){var e=i.tickDecimals?Math.pow(10,i.tickDecimals):1,n=""+Math.round(t*e)/e;if(null!=i.tickDecimals){var s=n.indexOf("."),o=-1==s?0:n.length-s-1;if(o<i.tickDecimals)return(o?n:n+".")+(""+e).substr(1,i.tickDecimals-o)}return n}),t.isFunction(s.tickFormatter)&&(i.tickFormatter=function(t,i){return""+s.tickFormatter(t,i)}),null!=s.alignTicksWithAxis){var u=("x"==i.direction?ct:ut)[s.alignTicksWithAxis-1];if(u&&u.used&&u!=i){var p=i.tickGenerator(i);if(p.length>0&&(null==s.min&&(i.min=Math.min(i.min,p[0])),null==s.max&&p.length>1&&(i.max=Math.max(i.max,p[p.length-1]))),i.tickGenerator=function(t){var i,e,n=[];for(e=0;e<u.ticks.length;++e)i=(u.ticks[e].v-u.min)/(u.max-u.min),i=t.min+i*(t.max-t.min),n.push(i);return n},!i.mode&&null==s.tickDecimals){var d=Math.max(0,-Math.floor(Math.log(i.delta)/Math.LN10)+1),f=i.tickGenerator(i);f.length>1&&/\..*0$/.test((f[1]-f[0]).toFixed(d))||(i.tickDecimals=d)}}}}function F(i){var e=i.options.ticks,n=[];null==e||"number"==typeof e&&e>0?n=i.tickGenerator(i):e&&(n=t.isFunction(e)?e(i):e);var s,o;for(i.ticks=[],s=0;s<n.length;++s){var a=null,r=n[s];"object"==typeof r?(o=+r[0],r.length>1&&(a=r[1])):o=+r,null==a&&(a=i.tickFormatter(o,i)),isNaN(o)||i.ticks.push({v:o,label:a})}}function W(t,i){t.options.autoscaleMargin&&i.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,i[0].v)),null==t.options.max&&i.length>1&&(t.max=Math.max(t.max,i[i.length-1].v)))}function I(){ot.clear(),r(gt.drawBackground,[lt]);var t=st.grid;t.show&&t.backgroundColor&&z(),t.show&&!t.aboveData&&O();for(var i=0;i<nt.length;++i)r(gt.drawSeries,[lt,nt[i]]),_(nt[i]);r(gt.draw,[lt]),t.show&&t.aboveData&&O(),ot.render(),G()}function L(t,i){for(var e,n,s,o,a=d(),r=0;r<a.length;++r)if(e=a[r],e.direction==i&&(o=i+e.n+"axis",t[o]||1!=e.n||(o=i+"axis"),t[o])){n=t[o].from,s=t[o].to;break}if(t[o]||(e="x"==i?ct[0]:ut[0],n=t[i+"1"],s=t[i+"2"]),null!=n&&null!=s&&n>s){var l=n;n=s,s=l}return{from:n,to:s,axis:e}}function z(){lt.save(),lt.translate(pt.left,pt.top),lt.fillStyle=et(st.grid.backgroundColor,ft,0,"rgba(255, 255, 255, 0)"),lt.fillRect(0,0,dt,ft),lt.restore()}function O(){var i,e,n,s;lt.save(),lt.translate(pt.left,pt.top);var o=st.grid.markings;if(o)for(t.isFunction(o)&&(e=mt.getAxes(),e.xmin=e.xaxis.min,e.xmax=e.xaxis.max,e.ymin=e.yaxis.min,e.ymax=e.yaxis.max,o=o(e)),i=0;i<o.length;++i){var a=o[i],r=L(a,"x"),l=L(a,"y");if(null==r.from&&(r.from=r.axis.min),null==r.to&&(r.to=r.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),!(r.to<r.axis.min||r.from>r.axis.max||l.to<l.axis.min||l.from>l.axis.max)){r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max);var h=r.from===r.to,c=l.from===l.to;if(!h||!c)if(r.from=Math.floor(r.axis.p2c(r.from)),r.to=Math.floor(r.axis.p2c(r.to)),l.from=Math.floor(l.axis.p2c(l.from)),l.to=Math.floor(l.axis.p2c(l.to)),h||c){var u=a.lineWidth||st.grid.markingsLineWidth,p=u%2?.5:0;lt.beginPath(),lt.strokeStyle=a.color||st.grid.markingsColor,lt.lineWidth=u,h?(lt.moveTo(r.to+p,l.from),lt.lineTo(r.to+p,l.to)):(lt.moveTo(r.from,l.to+p),lt.lineTo(r.to,l.to+p)),lt.stroke()}else lt.fillStyle=a.color||st.grid.markingsColor,lt.fillRect(r.from,l.to,r.to-r.from,l.from-l.to)}}e=d(),n=st.grid.borderWidth;for(var f=0;f<e.length;++f){var g,m,x,v,b=e[f],y=b.box,w=b.tickLength;if(b.show&&0!=b.ticks.length){for(lt.lineWidth=1,"x"==b.direction?(g=0,m="full"==w?"top"==b.position?0:ft:y.top-pt.top+("top"==b.position?y.height:0)):(m=0,g="full"==w?"left"==b.position?0:dt:y.left-pt.left+("left"==b.position?y.width:0)),b.innermost||(lt.strokeStyle=b.options.color,lt.beginPath(),x=v=0,"x"==b.direction?x=dt+1:v=ft+1,1==lt.lineWidth&&("x"==b.direction?m=Math.floor(m)+.5:g=Math.floor(g)+.5),lt.moveTo(g,m),lt.lineTo(g+x,m+v),lt.stroke()),lt.strokeStyle=b.options.tickColor,lt.beginPath(),i=0;i<b.ticks.length;++i){var k=b.ticks[i].v;x=v=0,isNaN(k)||k<b.min||k>b.max||"full"==w&&("object"==typeof n&&n[b.position]>0||n>0)&&(k==b.min||k==b.max)||("x"==b.direction?(g=b.p2c(k),v="full"==w?-ft:w,"top"==b.position&&(v=-v)):(m=b.p2c(k),x="full"==w?-dt:w,"left"==b.position&&(x=-x)),1==lt.lineWidth&&("x"==b.direction?g=Math.floor(g)+.5:m=Math.floor(m)+.5),lt.moveTo(g,m),lt.lineTo(g+x,m+v))}lt.stroke()}}n&&(s=st.grid.borderColor,"object"==typeof n||"object"==typeof s?("object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),"object"!=typeof s&&(s={top:s,right:s,bottom:s,left:s}),n.top>0&&(lt.strokeStyle=s.top,lt.lineWidth=n.top,lt.beginPath(),lt.moveTo(0-n.left,0-n.top/2),lt.lineTo(dt,0-n.top/2),lt.stroke()),n.right>0&&(lt.strokeStyle=s.right,lt.lineWidth=n.right,lt.beginPath(),lt.moveTo(dt+n.right/2,0-n.top),lt.lineTo(dt+n.right/2,ft),lt.stroke()),n.bottom>0&&(lt.strokeStyle=s.bottom,lt.lineWidth=n.bottom,lt.beginPath(),lt.moveTo(dt+n.right,ft+n.bottom/2),lt.lineTo(0,ft+n.bottom/2),lt.stroke()),n.left>0&&(lt.strokeStyle=s.left,lt.lineWidth=n.left,lt.beginPath(),lt.moveTo(0-n.left/2,ft+n.bottom),lt.lineTo(0-n.left/2,0),lt.stroke())):(lt.lineWidth=n,lt.strokeStyle=st.grid.borderColor,lt.strokeRect(-n/2,-n/2,dt+n,ft+n))),lt.restore()}function H(){t.each(d(),function(t,i){var e,n,s,o,a,r=i.box,l=i.direction+"Axis "+i.direction+i.n+"Axis",h="flot-"+i.direction+"-axis flot-"+i.direction+i.n+"-axis "+l,c=i.options.font||"flot-tick-label tickLabel";if(ot.removeText(h),i.show&&0!=i.ticks.length)for(var u=0;u<i.ticks.length;++u)e=i.ticks[u],!e.label||e.v<i.min||e.v>i.max||("x"==i.direction?(o="center",n=pt.left+i.p2c(e.v),"bottom"==i.position?s=r.top+r.padding:(s=r.top+r.height-r.padding,a="bottom")):(a="middle",s=pt.top+i.p2c(e.v),"left"==i.position?(n=r.left+r.width-r.padding,o="right"):n=r.left+r.padding),ot.addText(h,n,s,e.label,c,null,null,o,a))})}function _(t){t.lines.show&&q(t),t.bars.show&&D(t),t.points.show&&B(t)}function q(t){function i(t,i,e,n,s){var o=t.points,a=t.pointsize,r=null,l=null;lt.beginPath();for(var h=a;h<o.length;h+=a){var c=o[h-a],u=o[h-a+1],p=o[h],d=o[h+1];if(null!=c&&null!=p){if(d>=u&&u<s.min){if(d<s.min)continue;c=(s.min-u)/(d-u)*(p-c)+c,u=s.min}else if(u>=d&&d<s.min){if(u<s.min)continue;p=(s.min-u)/(d-u)*(p-c)+c,d=s.min}if(u>=d&&u>s.max){if(d>s.max)continue;c=(s.max-u)/(d-u)*(p-c)+c,u=s.max}else if(d>=u&&d>s.max){if(u>s.max)continue;p=(s.max-u)/(d-u)*(p-c)+c,d=s.max}if(p>=c&&c<n.min){if(p<n.min)continue;u=(n.min-c)/(p-c)*(d-u)+u,c=n.min}else if(c>=p&&p<n.min){if(c<n.min)continue;d=(n.min-c)/(p-c)*(d-u)+u,p=n.min}if(c>=p&&c>n.max){if(p>n.max)continue;u=(n.max-c)/(p-c)*(d-u)+u,c=n.max}else if(p>=c&&p>n.max){if(c>n.max)continue;d=(n.max-c)/(p-c)*(d-u)+u,p=n.max}(c!=r||u!=l)&&lt.moveTo(n.p2c(c)+i,s.p2c(u)+e),r=p,l=d,lt.lineTo(n.p2c(p)+i,s.p2c(d)+e)}}lt.stroke()}function e(t,i,e){for(var n=t.points,s=t.pointsize,o=Math.min(Math.max(0,e.min),e.max),a=0,r=!1,l=1,h=0,c=0;!(s>0&&a>n.length+s);){a+=s;var u=n[a-s],p=n[a-s+l],d=n[a],f=n[a+l];if(r){if(s>0&&null!=u&&null==d){c=a,s=-s,l=2;continue}if(0>s&&a==h+s){lt.fill(),r=!1,s=-s,l=1,a=h=c+s;continue}}if(null!=u&&null!=d){if(d>=u&&u<i.min){if(d<i.min)continue;p=(i.min-u)/(d-u)*(f-p)+p,u=i.min}else if(u>=d&&d<i.min){if(u<i.min)continue;f=(i.min-u)/(d-u)*(f-p)+p,d=i.min}if(u>=d&&u>i.max){if(d>i.max)continue;p=(i.max-u)/(d-u)*(f-p)+p,u=i.max}else if(d>=u&&d>i.max){if(u>i.max)continue;f=(i.max-u)/(d-u)*(f-p)+p,d=i.max}if(r||(lt.beginPath(),lt.moveTo(i.p2c(u),e.p2c(o)),r=!0),p>=e.max&&f>=e.max)lt.lineTo(i.p2c(u),e.p2c(e.max)),lt.lineTo(i.p2c(d),e.p2c(e.max));else if(p<=e.min&&f<=e.min)lt.lineTo(i.p2c(u),e.p2c(e.min)),lt.lineTo(i.p2c(d),e.p2c(e.min));else{var g=u,m=d;f>=p&&p<e.min&&f>=e.min?(u=(e.min-p)/(f-p)*(d-u)+u,p=e.min):p>=f&&f<e.min&&p>=e.min&&(d=(e.min-p)/(f-p)*(d-u)+u,f=e.min),p>=f&&p>e.max&&f<=e.max?(u=(e.max-p)/(f-p)*(d-u)+u,p=e.max):f>=p&&f>e.max&&p<=e.max&&(d=(e.max-p)/(f-p)*(d-u)+u,f=e.max),u!=g&&lt.lineTo(i.p2c(g),e.p2c(p)),lt.lineTo(i.p2c(u),e.p2c(p)),lt.lineTo(i.p2c(d),e.p2c(f)),d!=m&&(lt.lineTo(i.p2c(d),e.p2c(f)),lt.lineTo(i.p2c(m),e.p2c(f)))}}}}lt.save(),lt.translate(pt.left,pt.top),lt.lineJoin="round";var n=t.lines.lineWidth,s=t.shadowSize;if(n>0&&s>0){lt.lineWidth=s,lt.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;i(t.datapoints,Math.sin(o)*(n/2+s/2),Math.cos(o)*(n/2+s/2),t.xaxis,t.yaxis),lt.lineWidth=s/2,i(t.datapoints,Math.sin(o)*(n/2+s/4),Math.cos(o)*(n/2+s/4),t.xaxis,t.yaxis)}lt.lineWidth=n,lt.strokeStyle=t.color;var a=j(t.lines,t.color,0,ft);a&&(lt.fillStyle=a,e(t.datapoints,t.xaxis,t.yaxis)),n>0&&i(t.datapoints,0,0,t.xaxis,t.yaxis),lt.restore()}function B(t){function i(t,i,e,n,s,o,a,r){for(var l=t.points,h=t.pointsize,c=0;c<l.length;c+=h){var u=l[c],p=l[c+1];null==u||u<o.min||u>o.max||p<a.min||p>a.max||(lt.beginPath(),u=o.p2c(u),p=a.p2c(p)+n,"circle"==r?lt.arc(u,p,i,0,s?Math.PI:2*Math.PI,!1):r(lt,u,p,i,s),lt.closePath(),e&&(lt.fillStyle=e,lt.fill()),lt.stroke())}}lt.save(),lt.translate(pt.left,pt.top);var e=t.points.lineWidth,n=t.shadowSize,s=t.points.radius,o=t.points.symbol;if(0==e&&(e=1e-4),e>0&&n>0){var a=n/2;lt.lineWidth=a,lt.strokeStyle="rgba(0,0,0,0.1)",i(t.datapoints,s,null,a+a/2,!0,t.xaxis,t.yaxis,o),lt.strokeStyle="rgba(0,0,0,0.2)",i(t.datapoints,s,null,a/2,!0,t.xaxis,t.yaxis,o)}lt.lineWidth=e,lt.strokeStyle=t.color,i(t.datapoints,s,j(t.points,t.color),0,!1,t.xaxis,t.yaxis,o),lt.restore()}function E(t,i,e,n,s,o,a,r,l,h,c){var u,p,d,f,g,m,x,v,b;h?(v=m=x=!0,g=!1,u=e,p=t,f=i+n,d=i+s,u>p&&(b=p,p=u,u=b,g=!0,m=!1)):(g=m=x=!0,v=!1,u=t+n,p=t+s,d=e,f=i,d>f&&(b=f,f=d,d=b,v=!0,x=!1)),p<a.min||u>a.max||f<r.min||d>r.max||(u<a.min&&(u=a.min,g=!1),p>a.max&&(p=a.max,m=!1),d<r.min&&(d=r.min,v=!1),f>r.max&&(f=r.max,x=!1),u=a.p2c(u),d=r.p2c(d),p=a.p2c(p),f=r.p2c(f),o&&(l.fillStyle=o(d,f),l.fillRect(u,f,p-u,d-f)),c>0&&(g||m||x||v)&&(l.beginPath(),l.moveTo(u,d),g?l.lineTo(u,f):l.moveTo(u,f),x?l.lineTo(p,f):l.moveTo(p,f),m?l.lineTo(p,d):l.moveTo(p,d),v?l.lineTo(u,d):l.moveTo(u,d),l.stroke()))}function D(t){function i(i,e,n,s,o,a){for(var r=i.points,l=i.pointsize,h=0;h<r.length;h+=l)null!=r[h]&&E(r[h],r[h+1],r[h+2],e,n,s,o,a,lt,t.bars.horizontal,t.bars.lineWidth)}lt.save(),lt.translate(pt.left,pt.top),lt.lineWidth=t.bars.lineWidth,lt.strokeStyle=t.color;var e;switch(t.bars.align){case"left":e=0;break;case"right":e=-t.bars.barWidth;break;default:e=-t.bars.barWidth/2}var n=t.bars.fill?function(i,e){return j(t.bars,t.color,i,e)}:null;i(t.datapoints,e,e+t.bars.barWidth,n,t.xaxis,t.yaxis),lt.restore()}function j(i,e,n,s){var o=i.fill;if(!o)return null;if(i.fillColor)return et(i.fillColor,n,s,e);var a=t.color.parse(e);return a.a="number"==typeof o?o:.4,a.normalize(),a.toString()}function $(){if(null!=st.legend.container?t(st.legend.container).html(""):e.find(".legend").remove(),st.legend.show){for(var i,n,s=[],o=[],a=!1,r=st.legend.labelFormatter,l=0;l<nt.length;++l)i=nt[l],i.label&&(n=r?r(i.label,i):i.label,n&&o.push({label:n,color:i.color}));if(st.legend.sorted)if(t.isFunction(st.legend.sorted))o.sort(st.legend.sorted);else if("reverse"==st.legend.sorted)o.reverse();else{var h="descending"!=st.legend.sorted;o.sort(function(t,i){return t.label==i.label?0:t.label<i.label!=h?1:-1})}for(var l=0;l<o.length;++l){var c=o[l];l%st.legend.noColumns==0&&(a&&s.push("</tr>"),s.push("<tr>"),a=!0),s.push('<td class="legendColorBox"><div style="border:1px solid '+st.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+c.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+c.label+"</td>")}if(a&&s.push("</tr>"),0!=s.length){var u='<table style="font-size:smaller;color:'+st.grid.color+'">'+s.join("")+"</table>";if(null!=st.legend.container)t(st.legend.container).html(u);else{var p="",d=st.legend.position,f=st.legend.margin;null==f[0]&&(f=[f,f]),"n"==d.charAt(0)?p+="top:"+(f[1]+pt.top)+"px;":"s"==d.charAt(0)&&(p+="bottom:"+(f[1]+pt.bottom)+"px;"),"e"==d.charAt(1)?p+="right:"+(f[0]+pt.right)+"px;":"w"==d.charAt(1)&&(p+="left:"+(f[0]+pt.left)+"px;");var g=t('<div class="legend">'+u.replace('style="','style="position:absolute;'+p+";")+"</div>").appendTo(e);if(0!=st.legend.backgroundOpacity){var m=st.legend.backgroundColor;null==m&&(m=st.grid.backgroundColor,m=m&&"string"==typeof m?t.color.parse(m):t.color.extract(g,"background-color"),m.a=1,m=m.toString());var x=g.children();t('<div style="position:absolute;width:'+x.width()+"px;height:"+x.height()+"px;"+p+"background-color:"+m+';"> </div>').prependTo(g).css("opacity",st.legend.backgroundOpacity)}}}}}function N(t,i,e){var n,s,o,a=st.grid.mouseActiveRadius,r=a*a+1,l=null;for(n=nt.length-1;n>=0;--n)if(e(nt[n])){var h=nt[n],c=h.xaxis,u=h.yaxis,p=h.datapoints.points,d=c.c2p(t),f=u.c2p(i),g=a/c.scale,m=a/u.scale;if(o=h.datapoints.pointsize,c.options.inverseTransform&&(g=Number.MAX_VALUE),u.options.inverseTransform&&(m=Number.MAX_VALUE),h.lines.show||h.points.show)for(s=0;s<p.length;s+=o){var x=p[s],v=p[s+1];if(null!=x&&!(x-d>g||-g>x-d||v-f>m||-m>v-f)){var b=Math.abs(c.p2c(x)-t),y=Math.abs(u.p2c(v)-i),w=b*b+y*y;r>w&&(r=w,l=[n,s/o])}}if(h.bars.show&&!l){var k,C;switch(h.bars.align){case"left":k=0;break;case"right":k=-h.bars.barWidth;break;default:k=-h.bars.barWidth/2}for(C=k+h.bars.barWidth,s=0;s<p.length;s+=o){var x=p[s],v=p[s+1],S=p[s+2];null!=x&&(nt[n].bars.horizontal?d<=Math.max(S,x)&&d>=Math.min(S,x)&&f>=v+k&&v+C>=f:d>=x+k&&x+C>=d&&f>=Math.min(S,v)&&f<=Math.max(S,v))&&(l=[n,s/o])}}}return l?(n=l[0],s=l[1],o=nt[n].datapoints.pointsize,{datapoint:nt[n].datapoints.points.slice(s*o,(s+1)*o),dataIndex:s,series:nt[n],seriesIndex:n}):null}function X(t){st.grid.hoverable&&Q("plothover",t,function(t){return 0!=t.hoverable})}function Y(t){st.grid.hoverable&&Q("plothover",t,function(t){return!1})}function V(t){Q("plotclick",t,function(t){return 0!=t.clickable})}function Q(t,i,n){var s=rt.offset(),o=i.pageX-s.left-pt.left,a=i.pageY-s.top-pt.top,r=f({left:o,top:a});r.pageX=i.pageX,r.pageY=i.pageY;var l=N(o,a,n);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+s.left+pt.left,10),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+s.top+pt.top,10)),st.grid.autoHighlight){for(var h=0;h<xt.length;++h){var c=xt[h];c.auto!=t||l&&c.series==l.series&&c.point[0]==l.datapoint[0]&&c.point[1]==l.datapoint[1]||J(c.series,c.point)}l&&K(l.series,l.datapoint,t)}e.trigger(t,[r,l])}function G(){var t=st.interaction.redrawOverlayInterval;return-1==t?void U():void(vt||(vt=setTimeout(U,t)))}function U(){vt=null,ht.save(),at.clear(),ht.translate(pt.left,pt.top);var t,i;for(t=0;t<xt.length;++t)i=xt[t],i.series.bars.show?it(i.series,i.point):tt(i.series,i.point);ht.restore(),r(gt.drawOverlay,[ht])}function K(t,i,e){if("number"==typeof t&&(t=nt[t]),"number"==typeof i){var n=t.datapoints.pointsize;i=t.datapoints.points.slice(n*i,n*(i+1))}var s=Z(t,i);-1==s?(xt.push({series:t,point:i,auto:e}),G()):e||(xt[s].auto=!1)}function J(t,i){if(null==t&&null==i)return xt=[],void G();if("number"==typeof t&&(t=nt[t]),"number"==typeof i){var e=t.datapoints.pointsize;i=t.datapoints.points.slice(e*i,e*(i+1))}var n=Z(t,i);-1!=n&&(xt.splice(n,1),G())}function Z(t,i){for(var e=0;e<xt.length;++e){var n=xt[e];if(n.series==t&&n.point[0]==i[0]&&n.point[1]==i[1])return e}return-1}function tt(i,e){var n=e[0],s=e[1],o=i.xaxis,a=i.yaxis,r="string"==typeof i.highlightColor?i.highlightColor:t.color.parse(i.color).scale("a",.5).toString();if(!(n<o.min||n>o.max||s<a.min||s>a.max)){var l=i.points.radius+i.points.lineWidth/2;ht.lineWidth=l,ht.strokeStyle=r;var h=1.5*l;n=o.p2c(n),s=a.p2c(s),ht.beginPath(),"circle"==i.points.symbol?ht.arc(n,s,h,0,2*Math.PI,!1):i.points.symbol(ht,n,s,h,!1),ht.closePath(),ht.stroke()}}function it(i,e){var n,s="string"==typeof i.highlightColor?i.highlightColor:t.color.parse(i.color).scale("a",.5).toString(),o=s;switch(i.bars.align){case"left":n=0;break;case"right":n=-i.bars.barWidth;break;default:n=-i.bars.barWidth/2}ht.lineWidth=i.bars.lineWidth,ht.strokeStyle=s,E(e[0],e[1],e[2]||0,n,n+i.bars.barWidth,function(){return o},i.xaxis,i.yaxis,ht,i.bars.horizontal,i.bars.lineWidth)}function et(i,e,n,s){if("string"==typeof i)return i;for(var o=lt.createLinearGradient(0,n,0,e),a=0,r=i.colors.length;r>a;++a){var l=i.colors[a];if("string"!=typeof l){var h=t.color.parse(s);null!=l.brightness&&(h=h.scale("rgb",l.brightness)),null!=l.opacity&&(h.a*=l.opacity),l=h.toString()}o.addColorStop(a/(r-1),l)}return o}var nt=[],st={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},ot=null,at=null,rt=null,lt=null,ht=null,ct=[],ut=[],pt={left:0,right:0,top:0,bottom:0},dt=0,ft=0,gt={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},mt=this;mt.setData=c,mt.setupGrid=P,mt.draw=I,mt.getPlaceholder=function(){return e},mt.getCanvas=function(){return ot.element},mt.getPlotOffset=function(){return pt},mt.width=function(){return dt},mt.height=function(){return ft},mt.offset=function(){var t=rt.offset();return t.left+=pt.left,t.top+=pt.top,t},mt.getData=function(){return nt},mt.getAxes=function(){var i={};return t.each(ct.concat(ut),function(t,e){e&&(i[e.direction+(1!=e.n?e.n:"")+"axis"]=e)}),i},mt.getXAxes=function(){return ct},mt.getYAxes=function(){return ut},mt.c2p=f,mt.p2c=g,mt.getOptions=function(){return st},mt.highlight=K,mt.unhighlight=J,mt.triggerRedrawOverlay=G,mt.pointOffset=function(t){return{left:parseInt(ct[p(t,"x")-1].p2c(+t.x)+pt.left,10),top:parseInt(ut[p(t,"y")-1].p2c(+t.y)+pt.top,10)}},mt.shutdown=w,mt.destroy=function(){w(),e.removeData("plot").empty(),nt=[],st=null,ot=null,at=null,rt=null,lt=null,ht=null,ct=[],ut=[],gt=null,xt=[],mt=null},mt.resize=function(){var t=e.width(),i=e.height();
ot.resize(t,i),at.resize(t,i)},mt.hooks=gt,l(mt),h(o),b(),c(s),P(),I(),y();var xt=[],vt=null}function n(t,i){return i*Math.floor(t/i)}var s=Object.prototype.hasOwnProperty;t.fn.detach||(t.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),i.prototype.resize=function(t,i){if(0>=t||0>=i)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+i);var e=this.element,n=this.context,s=this.pixelRatio;this.width!=t&&(e.width=t*s,e.style.width=t+"px",this.width=t),this.height!=i&&(e.height=i*s,e.style.height=i+"px",this.height=i),n.restore(),n.save(),n.scale(s,s)},i.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},i.prototype.render=function(){var t=this._textCache;for(var i in t)if(s.call(t,i)){var e=this.getTextLayer(i),n=t[i];e.hide();for(var o in n)if(s.call(n,o)){var a=n[o];for(var r in a)if(s.call(a,r)){for(var l,h=a[r].positions,c=0;l=h[c];c++)l.active?l.rendered||(e.append(l.element),l.rendered=!0):(h.splice(c--,1),l.rendered&&l.element.detach());0==h.length&&delete a[r]}}e.show()}},i.prototype.getTextLayer=function(i){var e=this.text[i];return null==e&&(null==this.textContainer&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),e=this.text[i]=t("<div></div>").addClass(i).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),e},i.prototype.getTextInfo=function(i,e,n,s,o){var a,r,l,h;if(e=""+e,a="object"==typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n,r=this._textCache[i],null==r&&(r=this._textCache[i]={}),l=r[a],null==l&&(l=r[a]={}),h=l[e],null==h){var c=t("<div></div>").html(e).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(i));"object"==typeof n?c.css({font:a,color:n.color}):"string"==typeof n&&c.addClass(n),h=l[e]={width:c.outerWidth(!0),height:c.outerHeight(!0),element:c,positions:[]},c.detach()}return h},i.prototype.addText=function(t,i,e,n,s,o,a,r,l){var h=this.getTextInfo(t,n,s,o,a),c=h.positions;"center"==r?i-=h.width/2:"right"==r&&(i-=h.width),"middle"==l?e-=h.height/2:"bottom"==l&&(e-=h.height);for(var u,p=0;u=c[p];p++)if(u.x==i&&u.y==e)return void(u.active=!0);u={active:!0,rendered:!1,element:c.length?h.element.clone():h.element,x:i,y:e},c.push(u),u.element.css({top:Math.round(e),left:Math.round(i),"text-align":r})},i.prototype.removeText=function(t,i,e,n,o,a){if(null==n){var r=this._textCache[t];if(null!=r)for(var l in r)if(s.call(r,l)){var h=r[l];for(var c in h)if(s.call(h,c))for(var u,p=h[c].positions,d=0;u=p[d];d++)u.active=!1}}else for(var u,p=this.getTextInfo(t,n,o,a).positions,d=0;u=p[d];d++)u.x==i&&u.y==e&&(u.active=!1)},t.plot=function(i,n,s){var o=new e(t(i),n,s,t.plot.plugins);return o},t.plot.version="0.8.3",t.plot.plugins=[],t.fn.plot=function(i,e){return this.each(function(){t.plot(this,i,e)})}}(jQuery),!function(t,i,e){"$:nomunge";function n(e){r===!0&&(r=e||1);for(var l=o.length-1;l>=0;l--){var p=t(o[l]);if(p[0]==i||p.is(":visible")){var d=p.width(),f=p.height(),g=p.data(c);!g||d===g.w&&f===g.h||(p.trigger(h,[g.w=d,g.h=f]),r=e||!0)}else g=p.data(c),g.w=0,g.h=0}null!==s&&(r&&(null==e||1e3>e-r)?s=i.requestAnimationFrame(n):(s=setTimeout(n,a[u]),r=!1))}var s,o=[],a=t.resize=t.extend(t.resize,{}),r=!1,l="setTimeout",h="resize",c=h+"-special-event",u="pendingDelay",p="activeDelay",d="throttleWindow";a[u]=200,a[p]=20,a[d]=!0,t.event.special[h]={setup:function(){if(!a[d]&&this[l])return!1;var i=t(this);o.push(this),i.data(c,{w:i.width(),h:i.height()}),1===o.length&&(s=e,n())},teardown:function(){if(!a[d]&&this[l])return!1;for(var i=t(this),e=o.length-1;e>=0;e--)if(o[e]==this){o.splice(e,1);break}i.removeData(c),o.length||(r?cancelAnimationFrame(s):clearTimeout(s),s=null)},add:function(i){function n(i,n,o){var a=t(this),r=a.data(c)||{};r.w=n!==e?n:a.width(),r.h=o!==e?o:a.height(),s.apply(this,arguments)}if(!a[d]&&this[l])return!1;var s;return t.isFunction(i)?(s=i,n):(s=i.handler,void(i.handler=n))}},i.requestAnimationFrame||(i.requestAnimationFrame=function(){return i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||i.oRequestAnimationFrame||i.msRequestAnimationFrame||function(t,e){return i.setTimeout(function(){t((new Date).getTime())},a[p])}}()),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(){return i.webkitCancelRequestAnimationFrame||i.mozCancelRequestAnimationFrame||i.oCancelRequestAnimationFrame||i.msCancelRequestAnimationFrame||clearTimeout}())}(jQuery,this),function(t){function i(t){function i(){var i=t.getPlaceholder();0!=i.width()&&0!=i.height()&&(t.resize(),t.setupGrid(),t.draw())}function e(t,e){t.getPlaceholder().resize(i)}function n(t,e){t.getPlaceholder().unbind("resize",i)}t.hooks.bindEvents.push(e),t.hooks.shutdown.push(n)}var e={};t.plot.plugins.push({init:i,options:e,name:"resize",version:"1.0"})}(jQuery),!function(t){function i(t){function i(t,i){for(var e=null,n=0;n<i.length&&t!=i[n];++n)i[n].stack==t.stack&&(e=i[n]);return e}function e(t,e,n){if(null!=e.stack&&e.stack!==!1){var s=i(e,t.getData());if(s){for(var o,a,r,l,h,c,u,p,d=n.pointsize,f=n.points,g=s.datapoints.pointsize,m=s.datapoints.points,x=[],v=e.lines.show,b=e.bars.horizontal,y=d>2&&(b?n.format[2].x:n.format[2].y),w=v&&e.lines.steps,k=!0,C=b?1:0,S=b?0:1,M=0,R=0;!(M>=f.length);){if(u=x.length,null==f[M]){for(p=0;d>p;++p)x.push(f[M+p]);M+=d}else if(R>=m.length){if(!v)for(p=0;d>p;++p)x.push(f[M+p]);M+=d}else if(null==m[R]){for(p=0;d>p;++p)x.push(null);k=!0,R+=g}else{if(o=f[M+C],a=f[M+S],l=m[R+C],h=m[R+S],c=0,o==l){for(p=0;d>p;++p)x.push(f[M+p]);x[u+S]+=h,c=h,M+=d,R+=g}else if(o>l){if(v&&M>0&&null!=f[M-d]){for(r=a+(f[M-d+S]-a)*(l-o)/(f[M-d+C]-o),x.push(l),x.push(r+h),p=2;d>p;++p)x.push(f[M+p]);c=h}R+=g}else{if(k&&v){M+=d;continue}for(p=0;d>p;++p)x.push(f[M+p]);v&&R>0&&null!=m[R-g]&&(c=h+(m[R-g+S]-h)*(o-l)/(m[R-g+C]-l)),x[u+S]+=c,M+=d}k=!1,u!=x.length&&y&&(x[u+2]+=c)}if(w&&u!=x.length&&u>0&&null!=x[u]&&x[u]!=x[u-d]&&x[u+1]!=x[u-d+1]){for(p=0;d>p;++p)x[u+d+p]=x[u+p];x[u+1]=x[u-d+1]}}n.points=x}}}t.hooks.processDatapoints.push(e)}var e={series:{stack:null}};t.plot.plugins.push({init:i,options:e,name:"stack",version:"1.2"})}(jQuery),!function(t){function i(i){function s(i,e,n){C||(C=!0,x=i.getCanvas(),v=t(x).parent(),b=i.getOptions(),i.setData(o(i.getData())))}function o(i){for(var e=0,n=0,s=0,o=b.series.pie.combine.color,a=[],r=0;r<i.length;++r){var l=i[r].data;t.isArray(l)&&1==l.length&&(l=l[0]),t.isArray(l)?!isNaN(parseFloat(l[1]))&&isFinite(l[1])?l[1]=+l[1]:l[1]=0:l=!isNaN(parseFloat(l))&&isFinite(l)?[1,+l]:[1,0],i[r].data=[l]}for(var r=0;r<i.length;++r)e+=i[r].data[0][1];for(var r=0;r<i.length;++r){var l=i[r].data[0][1];l/e<=b.series.pie.combine.threshold&&(n+=l,s++,o||(o=i[r].color))}for(var r=0;r<i.length;++r){var l=i[r].data[0][1];(2>s||l/e>b.series.pie.combine.threshold)&&a.push(t.extend(i[r],{data:[[1,l]],color:i[r].color,label:i[r].label,angle:l*Math.PI*2/e,percent:l/(e/100)}))}return s>1&&a.push({data:[[1,n]],color:o,label:b.series.pie.combine.label,angle:n*Math.PI*2/e,percent:n/(e/100)}),a}function a(i,s){function o(){S.clearRect(0,0,h,c),v.children().filter(".pieLabel, .pieLabelBackground").remove()}function a(){var t=b.series.pie.shadow.left,i=b.series.pie.shadow.top,e=10,n=b.series.pie.shadow.alpha,s=b.series.pie.radius>1?b.series.pie.radius:y*b.series.pie.radius;if(!(s>=h/2-t||s*b.series.pie.tilt>=c/2-i||e>=s)){S.save(),S.translate(t,i),S.globalAlpha=n,S.fillStyle="#000",S.translate(w,k),S.scale(1,b.series.pie.tilt);for(var o=1;e>=o;o++)S.beginPath(),S.arc(0,0,s,0,2*Math.PI,!1),S.fill(),s-=o;S.restore()}}function l(){function i(t,i,e){0>=t||isNaN(t)||(e?S.fillStyle=i:(S.strokeStyle=i,S.lineJoin="round"),S.beginPath(),Math.abs(t-2*Math.PI)>1e-9&&S.moveTo(0,0),S.arc(0,0,s,o,o+t/2,!1),S.arc(0,0,s,o+t/2,o+t,!1),S.closePath(),o+=t,e?S.fill():S.stroke())}function e(){function i(i,e,n){if(0==i.data[0][1])return!0;var o,a=b.legend.labelFormatter,r=b.series.pie.label.formatter;o=a?a(i.label,i):i.label,r&&(o=r(o,i));var l=(e+i.angle+e)/2,u=w+Math.round(Math.cos(l)*s),p=k+Math.round(Math.sin(l)*s)*b.series.pie.tilt,d="<span class='pieLabel' id='pieLabel"+n+"' style='position:absolute;top:"+p+"px;left:"+u+"px;'>"+o+"</span>";v.append(d);var f=v.children("#pieLabel"+n),g=p-f.height()/2,m=u-f.width()/2;if(f.css("top",g),f.css("left",m),0-g>0||0-m>0||c-(g+f.height())<0||h-(m+f.width())<0)return!1;if(0!=b.series.pie.label.background.opacity){var x=b.series.pie.label.background.color;null==x&&(x=i.color);var y="top:"+g+"px;left:"+m+"px;";t("<div class='pieLabelBackground' style='position:absolute;width:"+f.width()+"px;height:"+f.height()+"px;"+y+"background-color:"+x+";'></div>").css("opacity",b.series.pie.label.background.opacity).insertBefore(f)}return!0}for(var e=n,s=b.series.pie.label.radius>1?b.series.pie.label.radius:y*b.series.pie.label.radius,o=0;o<p.length;++o){if(p[o].percent>=100*b.series.pie.label.threshold&&!i(p[o],e,o))return!1;e+=p[o].angle}return!0}var n=Math.PI*b.series.pie.startAngle,s=b.series.pie.radius>1?b.series.pie.radius:y*b.series.pie.radius;S.save(),S.translate(w,k),S.scale(1,b.series.pie.tilt),S.save();for(var o=n,a=0;a<p.length;++a)p[a].startAngle=o,i(p[a].angle,p[a].color,!0);if(S.restore(),b.series.pie.stroke.width>0){S.save(),S.lineWidth=b.series.pie.stroke.width,o=n;for(var a=0;a<p.length;++a)i(p[a].angle,b.series.pie.stroke.color,!1);S.restore()}return r(S),S.restore(),!b.series.pie.label.show||e()}if(v){var h=i.getPlaceholder().width(),c=i.getPlaceholder().height(),u=v.children().filter(".legend").children().width()||0;S=s,C=!1,y=Math.min(h,c/b.series.pie.tilt)/2,k=c/2+b.series.pie.offset.top,w=h/2,"auto"==b.series.pie.offset.left?(b.legend.position.match("w")?w+=u/2:w-=u/2,y>w?w=y:w>h-y&&(w=h-y)):w+=b.series.pie.offset.left;var p=i.getData(),d=0;do d>0&&(y*=n),d+=1,o(),b.series.pie.tilt<=.8&&a();while(!l()&&e>d);d>=e&&(o(),v.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),i.setSeries&&i.insertLegend&&(i.setSeries(p),i.insertLegend())}}function r(t){if(b.series.pie.innerRadius>0){t.save();var i=b.series.pie.innerRadius>1?b.series.pie.innerRadius:y*b.series.pie.innerRadius;t.globalCompositeOperation="destination-out",t.beginPath(),t.fillStyle=b.series.pie.stroke.color,t.arc(0,0,i,0,2*Math.PI,!1),t.fill(),t.closePath(),t.restore(),t.save(),t.beginPath(),t.strokeStyle=b.series.pie.stroke.color,t.arc(0,0,i,0,2*Math.PI,!1),t.stroke(),t.closePath(),t.restore()}}function l(t,i){for(var e=!1,n=-1,s=t.length,o=s-1;++n<s;o=n)(t[n][1]<=i[1]&&i[1]<t[o][1]||t[o][1]<=i[1]&&i[1]<t[n][1])&&i[0]<(t[o][0]-t[n][0])*(i[1]-t[n][1])/(t[o][1]-t[n][1])+t[n][0]&&(e=!e);return e}function h(t,e){for(var n,s,o=i.getData(),a=i.getOptions(),r=a.series.pie.radius>1?a.series.pie.radius:y*a.series.pie.radius,h=0;h<o.length;++h){var c=o[h];if(c.pie.show){if(S.save(),S.beginPath(),S.moveTo(0,0),S.arc(0,0,r,c.startAngle,c.startAngle+c.angle/2,!1),S.arc(0,0,r,c.startAngle+c.angle/2,c.startAngle+c.angle,!1),S.closePath(),n=t-w,s=e-k,S.isPointInPath){if(S.isPointInPath(t-w,e-k))return S.restore(),{datapoint:[c.percent,c.data],dataIndex:0,series:c,seriesIndex:h}}else{var u=r*Math.cos(c.startAngle),p=r*Math.sin(c.startAngle),d=r*Math.cos(c.startAngle+c.angle/4),f=r*Math.sin(c.startAngle+c.angle/4),g=r*Math.cos(c.startAngle+c.angle/2),m=r*Math.sin(c.startAngle+c.angle/2),x=r*Math.cos(c.startAngle+c.angle/1.5),v=r*Math.sin(c.startAngle+c.angle/1.5),b=r*Math.cos(c.startAngle+c.angle),C=r*Math.sin(c.startAngle+c.angle),M=[[0,0],[u,p],[d,f],[g,m],[x,v],[b,C]],R=[n,s];if(l(M,R))return S.restore(),{datapoint:[c.percent,c.data],dataIndex:0,series:c,seriesIndex:h}}S.restore()}}return null}function c(t){p("plothover",t)}function u(t){p("plotclick",t)}function p(t,e){var n=i.offset(),s=parseInt(e.pageX-n.left),o=parseInt(e.pageY-n.top),a=h(s,o);if(b.grid.autoHighlight)for(var r=0;r<M.length;++r){var l=M[r];l.auto!=t||a&&l.series==a.series||f(l.series)}a&&d(a.series,t);var c={pageX:e.pageX,pageY:e.pageY};v.trigger(t,[c,a])}function d(t,e){var n=g(t);-1==n?(M.push({series:t,auto:e}),i.triggerRedrawOverlay()):e||(M[n].auto=!1)}function f(t){null==t&&(M=[],i.triggerRedrawOverlay());var e=g(t);-1!=e&&(M.splice(e,1),i.triggerRedrawOverlay())}function g(t){for(var i=0;i<M.length;++i){var e=M[i];if(e.series==t)return i}return-1}function m(t,i){function e(t){t.angle<=0||isNaN(t.angle)||(i.fillStyle="rgba(255, 255, 255, "+n.series.pie.highlight.opacity+")",i.beginPath(),Math.abs(t.angle-2*Math.PI)>1e-9&&i.moveTo(0,0),i.arc(0,0,s,t.startAngle,t.startAngle+t.angle/2,!1),i.arc(0,0,s,t.startAngle+t.angle/2,t.startAngle+t.angle,!1),i.closePath(),i.fill())}var n=t.getOptions(),s=n.series.pie.radius>1?n.series.pie.radius:y*n.series.pie.radius;i.save(),i.translate(w,k),i.scale(1,n.series.pie.tilt);for(var o=0;o<M.length;++o)e(M[o].series);r(i),i.restore()}var x=null,v=null,b=null,y=null,w=null,k=null,C=!1,S=null,M=[];i.hooks.processOptions.push(function(t,i){i.series.pie.show&&(i.grid.show=!1,"auto"==i.series.pie.label.show&&(i.legend.show?i.series.pie.label.show=!1:i.series.pie.label.show=!0),"auto"==i.series.pie.radius&&(i.series.pie.label.show?i.series.pie.radius=.75:i.series.pie.radius=1),i.series.pie.tilt>1?i.series.pie.tilt=1:i.series.pie.tilt<0&&(i.series.pie.tilt=0))}),i.hooks.bindEvents.push(function(t,i){var e=t.getOptions();e.series.pie.show&&(e.grid.hoverable&&i.unbind("mousemove").mousemove(c),e.grid.clickable&&i.unbind("click").click(u))}),i.hooks.processDatapoints.push(function(t,i,e,n){var o=t.getOptions();o.series.pie.show&&s(t,i,e,n)}),i.hooks.drawOverlay.push(function(t,i){var e=t.getOptions();e.series.pie.show&&m(t,i)}),i.hooks.draw.push(function(t,i){var e=t.getOptions();e.series.pie.show&&a(t,i)})}var e=10,n=.95,s={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(t,i){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+i.color+";'>"+t+"<br/>"+Math.round(i.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};t.plot.plugins.push({init:i,options:s,name:"pie",version:"1.1"})}(jQuery),!function(t){var i={tooltip:!1,tooltipOpts:{id:"flotTip",content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,monthNames:null,dayNames:null,shifts:{x:10,y:20},defaultTheme:!0,lines:!1,onHover:function(t,i){},$compat:!1}},e=function(t){this.tipPosition={x:0,y:0},this.init(t)};e.prototype.init=function(i){function e(t){var e={};e.x=t.pageX,e.y=t.pageY,i.setTooltipPosition(e)}function n(e,n,o){var a=function(t,i,e,n){return Math.sqrt((e-t)*(e-t)+(n-i)*(n-i))},r=function(t,i,e,n,s,o,r){if(!r||(r=function(t,i,e,n,s,o){if("undefined"!=typeof e)return{x:e,y:i};if("undefined"!=typeof n)return{x:t,y:n};var a,r=-1/((o-n)/(s-e));return{x:a=(s*(t*r-i+n)+e*(t*-r+i-o))/(r*(s-e)+n-o),y:r*a-r*t+i}}(t,i,e,n,s,o),r.x>=Math.min(e,s)&&r.x<=Math.max(e,s)&&r.y>=Math.min(n,o)&&r.y<=Math.max(n,o))){var l=n-o,h=s-e,c=e*o-n*s;return Math.abs(l*t+h*i+c)/Math.sqrt(l*l+h*h)}var u=a(t,i,e,n),p=a(t,i,s,o);return u>p?p:u};if(o)i.showTooltip(o,n);else if(s.plotOptions.series.lines.show&&s.tooltipOptions.lines===!0){var l=s.plotOptions.grid.mouseActiveRadius,h={distance:l+1};t.each(i.getData(),function(t,e){for(var s=0,o=-1,l=1;l<e.data.length;l++)e.data[l-1][0]<=n.x&&e.data[l][0]>=n.x&&(s=l-1,o=l);if(-1===o)return void i.hideTooltip();var c={x:e.data[s][0],y:e.data[s][1]},u={x:e.data[o][0],y:e.data[o][1]},p=r(e.xaxis.p2c(n.x),e.yaxis.p2c(n.y),e.xaxis.p2c(c.x),e.yaxis.p2c(c.y),e.xaxis.p2c(u.x),e.yaxis.p2c(u.y),!1);if(p<h.distance){var d=a(c.x,c.y,n.x,n.y)<a(n.x,n.y,u.x,u.y)?s:o,f=(e.datapoints.pointsize,[n.x,c.y+(u.y-c.y)*((n.x-c.x)/(u.x-c.x))]),g={datapoint:f,dataIndex:d,series:e,seriesIndex:t};h={distance:p,item:g}}}),h.distance<l+1?i.showTooltip(h.item,n):i.hideTooltip()}else i.hideTooltip()}var s=this,o=t.plot.plugins.length;if(this.plotPlugins=[],o)for(var a=0;o>a;a++)this.plotPlugins.push(t.plot.plugins[a].name);i.hooks.bindEvents.push(function(i,o){s.plotOptions=i.getOptions(),s.plotOptions.tooltip!==!1&&"undefined"!=typeof s.plotOptions.tooltip&&(s.tooltipOptions=s.plotOptions.tooltipOpts,s.tooltipOptions.$compat?(s.wfunc="width",s.hfunc="height"):(s.wfunc="innerWidth",s.hfunc="innerHeight"),s.getDomElement(),t(i.getPlaceholder()).bind("plothover",n),t(o).bind("mousemove",e))}),i.hooks.shutdown.push(function(i,s){t(i.getPlaceholder()).unbind("plothover",n),t(s).unbind("mousemove",e)}),i.setTooltipPosition=function(i){var e=s.getDomElement(),n=e.outerWidth()+s.tooltipOptions.shifts.x,o=e.outerHeight()+s.tooltipOptions.shifts.y;i.x-t(window).scrollLeft()>t(window)[s.wfunc]()-n&&(i.x-=n),i.y-t(window).scrollTop()>t(window)[s.hfunc]()-o&&(i.y-=o),s.tipPosition.x=i.x,s.tipPosition.y=i.y},i.showTooltip=function(t,e){var n=s.getDomElement(),o=s.stringFormat(s.tooltipOptions.content,t);n.html(o),i.setTooltipPosition({x:e.pageX,y:e.pageY}),n.css({left:s.tipPosition.x+s.tooltipOptions.shifts.x,top:s.tipPosition.y+s.tooltipOptions.shifts.y}).show(),"function"==typeof s.tooltipOptions.onHover&&s.tooltipOptions.onHover(t,n)},i.hideTooltip=function(){s.getDomElement().hide().html("")}},e.prototype.getDomElement=function(){var i=t("#"+this.tooltipOptions.id);return 0===i.length&&(i=t("<div />").attr("id",this.tooltipOptions.id),i.appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&i.css({background:"#fff","z-index":"1040",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"})),i},e.prototype.stringFormat=function(t,i){var e,n,s,o,a=/%p\.{0,1}(\d{0,})/,r=/%s/,l=/%lx/,h=/%ly/,c=/%x\.{0,1}(\d{0,})/,u=/%y\.{0,1}(\d{0,})/,p="%x",d="%y",f="%ct";if("undefined"!=typeof i.series.threshold?(e=i.datapoint[0],n=i.datapoint[1],s=i.datapoint[2]):"undefined"!=typeof i.series.lines&&i.series.lines.steps?(e=i.series.datapoints.points[2*i.dataIndex],n=i.series.datapoints.points[2*i.dataIndex+1],s=""):(e=i.series.data[i.dataIndex][0],n=i.series.data[i.dataIndex][1],s=i.series.data[i.dataIndex][2]),null===i.series.label&&i.series.originSeries&&(i.series.label=i.series.originSeries.label),"function"==typeof t&&(t=t(i.series.label,e,n,i)),"undefined"!=typeof i.series.percent?o=i.series.percent:"undefined"!=typeof i.series.percents&&(o=i.series.percents[i.dataIndex]),"number"==typeof o&&(t=this.adjustValPrecision(a,t,o)),t="undefined"!=typeof i.series.label?t.replace(r,i.series.label):t.replace(r,""),t=this.hasAxisLabel("xaxis",i)?t.replace(l,i.series.xaxis.options.axisLabel):t.replace(l,""),t=this.hasAxisLabel("yaxis",i)?t.replace(h,i.series.yaxis.options.axisLabel):t.replace(h,""),this.isTimeMode("xaxis",i)&&this.isXDateFormat(i)&&(t=t.replace(c,this.timestampToDate(e,this.tooltipOptions.xDateFormat,i.series.xaxis.options))),this.isTimeMode("yaxis",i)&&this.isYDateFormat(i)&&(t=t.replace(u,this.timestampToDate(n,this.tooltipOptions.yDateFormat,i.series.yaxis.options))),"number"==typeof e&&(t=this.adjustValPrecision(c,t,e)),"number"==typeof n&&(t=this.adjustValPrecision(u,t,n)),"undefined"!=typeof i.series.xaxis.ticks){var g;g=this.hasRotatedXAxisTicks(i)?"rotatedTicks":"ticks";var m=i.dataIndex+i.seriesIndex;if(i.series.xaxis[g].length>m&&!this.isTimeMode("xaxis",i)){var x=this.isCategoriesMode("xaxis",i)?i.series.xaxis[g][m].label:i.series.xaxis[g][m].v;x===e&&(t=t.replace(c,i.series.xaxis[g][m].label))}}if("undefined"!=typeof i.series.yaxis.ticks)for(var v in i.series.yaxis.ticks)if(i.series.yaxis.ticks.hasOwnProperty(v)){var b=this.isCategoriesMode("yaxis",i)?i.series.yaxis.ticks[v].label:i.series.yaxis.ticks[v].v;b===n&&(t=t.replace(u,i.series.yaxis.ticks[v].label))}return"undefined"!=typeof i.series.xaxis.tickFormatter&&(t=t.replace(p,i.series.xaxis.tickFormatter(e,i.series.xaxis).replace(/\$/g,"$$"))),"undefined"!=typeof i.series.yaxis.tickFormatter&&(t=t.replace(d,i.series.yaxis.tickFormatter(n,i.series.yaxis).replace(/\$/g,"$$"))),s&&(t=t.replace(f,s)),t},e.prototype.isTimeMode=function(t,i){return"undefined"!=typeof i.series[t].options.mode&&"time"===i.series[t].options.mode},e.prototype.isXDateFormat=function(t){return"undefined"!=typeof this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},e.prototype.isYDateFormat=function(t){return"undefined"!=typeof this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},e.prototype.isCategoriesMode=function(t,i){return"undefined"!=typeof i.series[t].options.mode&&"categories"===i.series[t].options.mode},e.prototype.timestampToDate=function(i,e,n){var s=t.plot.dateGenerator(i,n);return t.plot.formatDate(s,e,this.tooltipOptions.monthNames,this.tooltipOptions.dayNames)},e.prototype.adjustValPrecision=function(t,i,e){var n,s=i.match(t);return null!==s&&""!==RegExp.$1&&(n=RegExp.$1,e=e.toFixed(n),i=i.replace(t,e)),i},e.prototype.hasAxisLabel=function(i,e){return-1!==t.inArray(this.plotPlugins,"axisLabels")&&"undefined"!=typeof e.series[i].options.axisLabel&&e.series[i].options.axisLabel.length>0},e.prototype.hasRotatedXAxisTicks=function(i){return-1!==t.inArray(this.plotPlugins,"tickRotor")&&"undefined"!=typeof i.series.xaxis.rotatedTicks};var n=function(t){new e(t)};t.plot.plugins.push({init:n,options:i,name:"tooltip",version:"0.8.4"})}(jQuery),$(function(){for(var t=[],i=[],e=0;354>e;e+=31)t.push([e,Math.random(e)]),i.push([e,Math.random(e)]);var n=$.plot($("#data-example-1"),[{data:t,label:"Today"},{data:i,label:"Yesterday"}],{series:{shadowSize:0,lines:{show:!0,lineWidth:2},points:{show:!0}},grid:{labelMargin:10,hoverable:!0,clickable:!0,borderWidth:1,borderColor:"rgba(82, 167, 224, 0.06)"},legend:{backgroundColor:"#fff"},yaxis:{tickColor:"rgba(0, 0, 0, 0.06)",font:{color:"rgba(0, 0, 0, 0.4)"}},xaxis:{tickColor:"rgba(0, 0, 0, 0.06)",font:{color:"rgba(0, 0, 0, 0.4)"}},colors:[getUIColor("success"),getUIColor("gray")],tooltip:!0,tooltipOpts:{content:"x: %x, y: %y"}});$("#data-example-1").bind("plothover",function(t,i,e){$("#x").text(i.x.toFixed(2)),$("#y").text(i.y.toFixed(2))}),$("#data-example-1").bind("plotclick",function(t,i,e){e&&($("#clickdata").text("You clicked point "+e.dataIndex+" in "+e.series.label+"."),n.highlight(e.series,e.datapoint))})}),!function(t,i,e){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)}(function(n){"use strict";var s,o,a,r,l,h,c,u,p,d,f,g,m,x,v,b,y,w,k,C,S,M,R,P,T,A,F,W,I,L,z,O,H={},_=0;s=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:e,normalRangeMax:e,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:e,chartRangeMax:e,chartRangeMinX:e,chartRangeMaxX:e,tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:e,nullColor:e,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:e,chartRangeMin:e,chartRangeClip:!1,colorMap:e,tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:e,thresholdValue:0,chartRangeMax:e,chartRangeMin:e,chartRangeClip:!1,tooltipFormat:new a("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:e,tooltipFormat:new a("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new a('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:e,targetColor:"#4a2",chartRangeMax:e,chartRangeMin:e,tooltipFormat:new a("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},A='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',o=function(){var t,i;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=n.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(i=Array.prototype.slice.call(arguments,1,-1),i.unshift(t.prototype),n.extend.apply(n,i))):t.prototype=arguments[0],t.prototype.cls=t,t},n.SPFormatClass=a=o({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,i){this.format=t,this.fclass=i},render:function(t,i,n){var s,o,a,r,l,h=this,c=t;return this.format.replace(this.fre,function(){var t;return o=arguments[1],a=arguments[3],s=h.precre.exec(o),s?(l=s[2],o=s[1]):l=!1,r=c[o],r===e?"":a&&i&&i[a]?(t=i[a],t.get?i[a].get(r)||r:i[a][r]||r):(p(r)&&(r=n.get("numberFormatter")?n.get("numberFormatter")(r):x(r,l,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark"))),r)})}}),n.spformat=function(t,i){return new a(t,i)},r=function(t,i,e){return i>t?i:t>e?e:t},l=function(t,e){var n;return 2===e?(n=i.floor(t.length/2),t.length%2?t[n]:(t[n-1]+t[n])/2):t.length%2?(n=(t.length*e+e)/4,n%1?(t[i.floor(n)]+t[i.floor(n)-1])/2:t[n-1]):(n=(t.length*e+2)/4,n%1?(t[i.floor(n)]+t[i.floor(n)-1])/2:t[n-1])},h=function(t){var i;switch(t){case"undefined":t=e;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:i=parseFloat(t),t==i&&(t=i)}return t},c=function(t){var i,e=[];for(i=t.length;i--;)e[i]=h(t[i]);return e},u=function(t,i){var e,n,s=[];for(e=0,n=t.length;n>e;e++)t[e]!==i&&s.push(t[e]);return s},p=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},x=function(t,i,e,s,o){var a,r;for(t=(i===!1?parseFloat(t).toString():t.toFixed(i)).split(""),a=(a=n.inArray(".",t))<0?t.length:a,a<t.length&&(t[a]=o),r=a-e;r>0;r-=e)t.splice(r,0,s);return t.join("")},d=function(t,i,e){var n;for(n=i.length;n--;)if((!e||null!==i[n])&&i[n]!==t)return!1;return!0},f=function(t){var i,e=0;for(i=t.length;i--;)e+="number"==typeof t[i]?t[i]:0;return e},m=function(t){return n.isArray(t)?t:[t]},g=function(i){var e;t.createStyleSheet?t.createStyleSheet().cssText=i:(e=t.createElement("style"),e.type="text/css",t.getElementsByTagName("head")[0].appendChild(e),e["string"==typeof t.body.style.WebkitAppearance?"innerText":"innerHTML"]=i)},n.fn.simpledraw=function(i,s,o,a){var r,l;if(o&&(r=this.data("_jqs_vcanvas")))return r;if(n.fn.sparkline.canvas===!1)return!1;if(n.fn.sparkline.canvas===e){var h=t.createElement("canvas");if(h.getContext&&h.getContext("2d"))n.fn.sparkline.canvas=function(t,i,e,n){return new L(t,i,e,n)};else{if(!t.namespaces||t.namespaces.v)return n.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),n.fn.sparkline.canvas=function(t,i,e,n){return new z(t,i,e)}}}return i===e&&(i=n(this).innerWidth()),s===e&&(s=n(this).innerHeight()),r=n.fn.sparkline.canvas(i,s,this,a),l=n(this).data("_jqs_mhandler"),l&&l.registerCanvas(r),r},n.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},n.RangeMapClass=v=o({init:function(t){var i,e,n=[];for(i in t)t.hasOwnProperty(i)&&"string"==typeof i&&i.indexOf(":")>-1&&(e=i.split(":"),e[0]=0===e[0].length?-(1/0):parseFloat(e[0]),e[1]=0===e[1].length?1/0:parseFloat(e[1]),e[2]=t[i],n.push(e));this.map=t,this.rangelist=n||!1},get:function(t){var i,n,s,o=this.rangelist;if((s=this.map[t])!==e)return s;if(o)for(i=o.length;i--;)if(n=o[i],n[0]<=t&&n[1]>=t)return n[2];return e}}),n.range_map=function(t){return new v(t)},b=o({init:function(t,i){var e=n(t);this.$el=e,this.options=i,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!i.get("disableTooltips"),this.highlightEnabled=!i.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var i=n(t.canvas);this.canvas=t,this.$canvas=i,i.mouseenter(n.proxy(this.mouseenter,this)),i.mouseleave(n.proxy(this.mouseleave,this)),i.click(n.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=e)},mouseclick:function(t){var i=n.Event("sparklineClick");i.originalEvent=t,i.sparklines=this.splist,this.$el.trigger(i)},mouseenter:function(i){n(t.body).unbind("mousemove.jqs"),n(t.body).bind("mousemove.jqs",n.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=i.pageX,this.currentPageY=i.pageY,this.currentEl=i.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new y(this.options),this.tooltip.updatePosition(i.pageX,i.pageY)),this.updateDisplay()},mouseleave:function(){n(t.body).unbind("mousemove.jqs");var i,e,s=this.splist,o=s.length,a=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),e=0;o>e;e++)i=s[e],i.clearRegionHighlight()&&(a=!0);a&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,i,e,s,o,a=this.splist,r=a.length,l=!1,h=this.$canvas.offset(),c=this.currentPageX-h.left,u=this.currentPageY-h.top;if(this.over){for(e=0;r>e;e++)i=a[e],s=i.setRegionHighlight(this.currentEl,c,u),s&&(l=!0);if(l){if(o=n.Event("sparklineRegionChange"),o.sparklines=this.splist,this.$el.trigger(o),this.tooltip){for(t="",e=0;r>e;e++)i=a[e],t+=i.getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===s&&this.mouseleave()}}}),y=o({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(i){var e,s=i.get("tooltipClassname","jqstooltip"),o=this.sizeStyle;this.container=i.get("tooltipContainer")||t.body,this.tooltipOffsetX=i.get("tooltipOffsetX",10),this.tooltipOffsetY=i.get("tooltipOffsetY",12),n("#jqssizetip").remove(),n("#jqstooltip").remove(),this.sizetip=n("<div/>",{id:"jqssizetip",style:o,"class":s}),this.tooltip=n("<div/>",{id:"jqstooltip","class":s}).appendTo(this.container),e=this.tooltip.offset(),this.offsetLeft=e.left,this.offsetTop=e.top,this.hidden=!0,n(window).unbind("resize.jqs scroll.jqs"),
n(window).bind("resize.jqs scroll.jqs",n.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=n(window).scrollTop(),this.scrollLeft=n(window).scrollLeft(),this.scrollRight=this.scrollLeft+n(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){return t?(this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),void(this.hidden&&(this.hidden=!1,this.updatePosition()))):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(t,i){if(t===e){if(this.mousex===e)return;t=this.mousex-this.offsetLeft,i=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=i-=this.offsetTop;this.height&&this.width&&!this.hidden&&(i-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,i<this.scrollTop&&(i=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:i}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=e,n(window).unbind("resize.jqs scroll.jqs")}}),F=function(){g(A)},n(F),O=[],n.fn.sparkline=function(i,s){return this.each(function(){var o,a,r=new n.fn.sparkline.options(this,s),l=n(this);if(o=function(){var s,o,a,h,c,u,p;return"html"===i||i===e?(p=this.getAttribute(r.get("tagValuesAttribute")),(p===e||null===p)&&(p=l.html()),s=p.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):s=i,o="auto"===r.get("width")?s.length*r.get("defaultPixelsPerValue"):r.get("width"),"auto"===r.get("height")?r.get("composite")&&n.data(this,"_jqs_vcanvas")||(h=t.createElement("span"),h.innerHTML="a",l.html(h),a=n(h).innerHeight()||n(h).height(),n(h).remove(),h=null):a=r.get("height"),r.get("disableInteraction")?c=!1:(c=n.data(this,"_jqs_mhandler"),c?r.get("composite")||c.reset():(c=new b(this,r),n.data(this,"_jqs_mhandler",c))),r.get("composite")&&!n.data(this,"_jqs_vcanvas")?void(n.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),n.data(this,"_jqs_errnotify",!0))):(u=new(n.fn.sparkline[r.get("type")])(this,s,r,o,a),u.render(),void(c&&c.registerSparkline(u)))},n(this).html()&&!r.get("disableHiddenCheck")&&n(this).is(":hidden")||!n(this).parents("body").length){if(!r.get("composite")&&n.data(this,"_jqs_pending"))for(a=O.length;a;a--)O[a-1][0]==this&&O.splice(a-1,1);O.push([this,o]),n.data(this,"_jqs_pending",!0)}else o.call(this)})},n.fn.sparkline.defaults=s(),n.sparkline_display_visible=function(){var t,i,e,s=[];for(i=0,e=O.length;e>i;i++)t=O[i][0],n(t).is(":visible")&&!n(t).parents().is(":hidden")?(O[i][1].call(t),n.data(O[i][0],"_jqs_pending",!1),s.push(i)):n(t).closest("html").length||n.data(t,"_jqs_pending")||(n.data(O[i][0],"_jqs_pending",!1),s.push(i));for(i=s.length;i;i--)O.splice(s[i-1],1)},n.fn.sparkline.options=o({init:function(t,i){var e,s,o,a;this.userOptions=i=i||{},this.tag=t,this.tagValCache={},s=n.fn.sparkline.defaults,o=s.common,this.tagOptionsPrefix=i.enableTagOptions&&(i.tagOptionsPrefix||o.tagOptionsPrefix),a=this.getTagSetting("type"),e=a===H?s[i.type||o.type]:s[a],this.mergedOptions=n.extend({},o,e,i)},getTagSetting:function(t){var i,n,s,o,a=this.tagOptionsPrefix;if(a===!1||a===e)return H;if(this.tagValCache.hasOwnProperty(t))i=this.tagValCache.key;else{if(i=this.tag.getAttribute(a+t),i===e||null===i)i=H;else if("["===i.substr(0,1))for(i=i.substr(1,i.length-2).split(","),n=i.length;n--;)i[n]=h(i[n].replace(/(^\s*)|(\s*$)/g,""));else if("{"===i.substr(0,1))for(s=i.substr(1,i.length-2).split(","),i={},n=s.length;n--;)o=s[n].split(":",2),i[o[0].replace(/(^\s*)|(\s*$)/g,"")]=h(o[1].replace(/(^\s*)|(\s*$)/g,""));else i=h(i);this.tagValCache.key=i}return i},get:function(t,i){var n,s=this.getTagSetting(t);return s!==H?s:(n=this.mergedOptions[t])===e?i:n}}),n.fn.sparkline._base=o({disabled:!1,init:function(t,i,s,o,a){this.el=t,this.$el=n(t),this.values=i,this.options=s,this.width=o,this.height=a,this.currentRegion=e},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,i){},setRegionHighlight:function(t,i,n){var s,o=this.currentRegion,a=!this.options.get("disableHighlight");return i>this.canvasWidth||n>this.canvasHeight||0>i||0>n?null:(s=this.getRegion(t,i,n),o!==s&&(o!==e&&a&&this.removeHighlight(),this.currentRegion=s,s!==e&&a&&this.renderHighlight(),!0))},clearRegionHighlight:function(){return this.currentRegion!==e&&(this.removeHighlight(),this.currentRegion=e,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t,i,s,o,r,l,h,c,u,p,d,f,g,m,x=this.options,v="",b=[];if(this.currentRegion===e)return"";if(t=this.getCurrentRegionFields(),d=x.get("tooltipFormatter"))return d(this,x,t);if(x.get("tooltipChartTitle")&&(v+='<div class="jqs jqstitle">'+x.get("tooltipChartTitle")+"</div>\n"),i=this.options.get("tooltipFormat"),!i)return"";if(n.isArray(i)||(i=[i]),n.isArray(t)||(t=[t]),h=this.options.get("tooltipFormatFieldlist"),c=this.options.get("tooltipFormatFieldlistKey"),h&&c){for(u=[],l=t.length;l--;)p=t[l][c],-1!=(m=n.inArray(p,h))&&(u[m]=t[l]);t=u}for(s=i.length,g=t.length,l=0;s>l;l++)for(f=i[l],"string"==typeof f&&(f=new a(f)),o=f.fclass||"jqsfield",m=0;g>m;m++)t[m].isNull&&x.get("tooltipSkipNull")||(n.extend(t[m],{prefix:x.get("tooltipPrefix"),suffix:x.get("tooltipSuffix")}),r=f.render(t[m],x.get("tooltipValueLookups"),x),b.push('<div class="'+o+'">'+r+"</div>"));return b.length?v+b.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,e){var n,s,o,a,l=e.get("highlightColor"),h=e.get("highlightLighten");if(l)return l;if(h&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(o=[],s=4===t.length?16:1,a=0;3>a;a++)o[a]=r(i.round(parseInt(n[a+1],16)*s*h),0,255);return"rgb("+o.join(",")+")"}return t}}),w={changeHighlight:function(t){var i,e=this.currentRegion,s=this.target,o=this.regionShapes[e];o&&(i=this.renderRegion(e,t),n.isArray(i)||n.isArray(o)?(s.replaceWithShapes(o,i),this.regionShapes[e]=n.map(i,function(t){return t.id})):(s.replaceWithShape(o,i),this.regionShapes[e]=i.id))},render:function(){var t,i,e,s,o=this.values,a=this.target,r=this.regionShapes;if(this.cls._super.render.call(this)){for(e=o.length;e--;)if(t=this.renderRegion(e))if(n.isArray(t)){for(i=[],s=t.length;s--;)t[s].append(),i.push(t[s].id);r[e]=i}else t.append(),r[e]=t.id;else r[e]=null;a.render()}}},n.fn.sparkline.line=k=o(n.fn.sparkline._base,{type:"line",init:function(t,i,e,n,s){k._super.init.call(this,t,i,e,n,s),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,i,n){var s,o=this.regionMap;for(s=o.length;s--;)if(null!==o[s]&&i>=o[s][0]&&i<=o[s][1])return o[s][2];return e},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,i,n=this.currentRegion,s=this.target,o=this.vertices[n],a=this.options,r=a.get("spotRadius"),l=a.get("highlightSpotColor"),h=a.get("highlightLineColor");o&&(r&&l&&(t=s.drawCircle(o[0],o[1],r,e,l),this.highlightSpotId=t.id,s.insertAfterShape(this.lastShapeId,t)),h&&(i=s.drawLine(o[0],this.canvasTop,o[0],this.canvasTop+this.canvasHeight,h),this.highlightLineId=i.id,s.insertAfterShape(this.lastShapeId,i)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,e,n,s,o,a=this.values,r=a.length,l=this.xvalues,h=this.yvalues,c=this.yminmax;for(t=0;r>t;t++)e=a[t],n="string"==typeof a[t],s="object"==typeof a[t]&&a[t]instanceof Array,o=n&&a[t].split(":"),n&&2===o.length?(l.push(Number(o[0])),h.push(Number(o[1])),c.push(Number(o[1]))):s?(l.push(e[0]),h.push(e[1]),c.push(e[1])):(l.push(t),null===a[t]||"null"===a[t]?h.push(null):(h.push(Number(e)),c.push(Number(e))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=i.max.apply(i,c),this.miny=this.minyorg=i.min.apply(i,c),this.maxx=i.max.apply(i,l),this.minx=i.min.apply(i,l),this.xvalues=l,this.yvalues=h,this.yminmax=c},processRangeOptions:function(){var t=this.options,i=t.get("normalRangeMin"),n=t.get("normalRangeMax");i!==e&&(i<this.miny&&(this.miny=i),n>this.maxy&&(this.maxy=n)),t.get("chartRangeMin")!==e&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==e&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==e&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==e&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,n,s,o,a){var r=this.options.get("normalRangeMin"),l=this.options.get("normalRangeMax"),h=n+i.round(s-s*((l-this.miny)/a)),c=i.round(s*(l-r)/a);this.target.drawRect(t,h,o,c,e,this.options.get("normalRangeColor")).append()},render:function(){var t,s,o,a,r,l,h,c,u,p,d,f,g,m,x,b,y,w,C,S,M,R,P,T,A,F=this.options,W=this.target,I=this.canvasWidth,L=this.canvasHeight,z=this.vertices,O=F.get("spotRadius"),H=this.regionMap;if(k._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),P=this.xvalues,T=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(a=r=0,t=this.maxx-this.minx===0?1:this.maxx-this.minx,s=this.maxy-this.miny===0?1:this.maxy-this.miny,o=this.yvalues.length-1,O&&(4*O>I||4*O>L)&&(O=0),O&&(M=F.get("highlightSpotColor")&&!F.get("disableInteraction"),(M||F.get("minSpotColor")||F.get("spotColor")&&T[o]===this.miny)&&(L-=i.ceil(O)),(M||F.get("maxSpotColor")||F.get("spotColor")&&T[o]===this.maxy)&&(L-=i.ceil(O),a+=i.ceil(O)),(M||(F.get("minSpotColor")||F.get("maxSpotColor"))&&(T[0]===this.miny||T[0]===this.maxy))&&(r+=i.ceil(O),I-=i.ceil(O)),(M||F.get("spotColor")||F.get("minSpotColor")||F.get("maxSpotColor")&&(T[o]===this.miny||T[o]===this.maxy))&&(I-=i.ceil(O))),L--,F.get("normalRangeMin")===e||F.get("drawNormalOnTop")||this.drawNormalRange(r,a,L,I,s),h=[],c=[h],m=x=null,b=T.length,A=0;b>A;A++)u=P[A],d=P[A+1],p=T[A],f=r+i.round((u-this.minx)*(I/t)),g=b-1>A?r+i.round((d-this.minx)*(I/t)):I,x=f+(g-f)/2,H[A]=[m||0,x,A],m=x,null===p?A&&(null!==T[A-1]&&(h=[],c.push(h)),z.push(null)):(p<this.miny&&(p=this.miny),p>this.maxy&&(p=this.maxy),h.length||h.push([f,a+L]),l=[f,a+i.round(L-L*((p-this.miny)/s))],h.push(l),z.push(l));for(y=[],w=[],C=c.length,A=0;C>A;A++)h=c[A],h.length&&(F.get("fillColor")&&(h.push([h[h.length-1][0],a+L]),w.push(h.slice(0)),h.pop()),h.length>2&&(h[0]=[h[0][0],h[1][1]]),y.push(h));for(C=w.length,A=0;C>A;A++)W.drawShape(w[A],F.get("fillColor"),F.get("fillColor")).append();for(F.get("normalRangeMin")!==e&&F.get("drawNormalOnTop")&&this.drawNormalRange(r,a,L,I,s),C=y.length,A=0;C>A;A++)W.drawShape(y[A],F.get("lineColor"),e,F.get("lineWidth")).append();if(O&&F.get("valueSpots"))for(S=F.get("valueSpots"),S.get===e&&(S=new v(S)),A=0;b>A;A++)R=S.get(T[A]),R&&W.drawCircle(r+i.round((P[A]-this.minx)*(I/t)),a+i.round(L-L*((T[A]-this.miny)/s)),O,e,R).append();O&&F.get("spotColor")&&null!==T[o]&&W.drawCircle(r+i.round((P[P.length-1]-this.minx)*(I/t)),a+i.round(L-L*((T[o]-this.miny)/s)),O,e,F.get("spotColor")).append(),this.maxy!==this.minyorg&&(O&&F.get("minSpotColor")&&(u=P[n.inArray(this.minyorg,T)],W.drawCircle(r+i.round((u-this.minx)*(I/t)),a+i.round(L-L*((this.minyorg-this.miny)/s)),O,e,F.get("minSpotColor")).append()),O&&F.get("maxSpotColor")&&(u=P[n.inArray(this.maxyorg,T)],W.drawCircle(r+i.round((u-this.minx)*(I/t)),a+i.round(L-L*((this.maxyorg-this.miny)/s)),O,e,F.get("maxSpotColor")).append())),this.lastShapeId=W.getLastShapeId(),this.canvasTop=a,W.render()}}}),n.fn.sparkline.bar=C=o(n.fn.sparkline._base,w,{type:"bar",init:function(t,s,o,a,l){var p,d,f,g,m,x,b,y,w,k,S,M,R,P,T,A,F,W,I,L,z,O,H=parseInt(o.get("barWidth"),10),_=parseInt(o.get("barSpacing"),10),q=o.get("chartRangeMin"),B=o.get("chartRangeMax"),E=o.get("chartRangeClip"),D=1/0,j=-(1/0);for(C._super.init.call(this,t,s,o,a,l),x=0,b=s.length;b>x;x++)L=s[x],p="string"==typeof L&&L.indexOf(":")>-1,(p||n.isArray(L))&&(T=!0,p&&(L=s[x]=c(L.split(":"))),L=u(L,null),d=i.min.apply(i,L),f=i.max.apply(i,L),D>d&&(D=d),f>j&&(j=f));this.stacked=T,this.regionShapes={},this.barWidth=H,this.barSpacing=_,this.totalBarWidth=H+_,this.width=a=s.length*H+(s.length-1)*_,this.initTarget(),E&&(R=q===e?-(1/0):q,P=B===e?1/0:B),m=[],g=T?[]:m;var $=[],N=[];for(x=0,b=s.length;b>x;x++)if(T)for(A=s[x],s[x]=I=[],$[x]=0,g[x]=N[x]=0,F=0,W=A.length;W>F;F++)L=I[F]=E?r(A[F],R,P):A[F],null!==L&&(L>0&&($[x]+=L),0>D&&j>0?0>L?N[x]+=i.abs(L):g[x]+=L:g[x]+=i.abs(L-(0>L?j:D)),m.push(L));else L=E?r(s[x],R,P):s[x],L=s[x]=h(L),null!==L&&m.push(L);this.max=M=i.max.apply(i,m),this.min=S=i.min.apply(i,m),this.stackMax=j=T?i.max.apply(i,$):M,this.stackMin=D=T?i.min.apply(i,m):S,o.get("chartRangeMin")!==e&&(o.get("chartRangeClip")||o.get("chartRangeMin")<S)&&(S=o.get("chartRangeMin")),o.get("chartRangeMax")!==e&&(o.get("chartRangeClip")||o.get("chartRangeMax")>M)&&(M=o.get("chartRangeMax")),this.zeroAxis=w=o.get("zeroAxis",!0),k=0>=S&&M>=0&&w?0:0==w?S:S>0?S:M,this.xaxisOffset=k,y=T?i.max.apply(i,g)+i.max.apply(i,N):M-S,this.canvasHeightEf=w&&0>S?this.canvasHeight-2:this.canvasHeight-1,k>S?(O=T&&M>=0?j:M,z=(O-k)/y*this.canvasHeight,z!==i.ceil(z)&&(this.canvasHeightEf-=2,z=i.ceil(z))):z=this.canvasHeight,this.yoffset=z,n.isArray(o.get("colorMap"))?(this.colorMapByIndex=o.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=o.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===e&&(this.colorMapByValue=new v(this.colorMapByValue))),this.range=y},getRegion:function(t,n,s){var o=i.floor(n/this.totalBarWidth);return 0>o||o>=this.values.length?e:o},getCurrentRegionFields:function(){var t,i,e=this.currentRegion,n=m(this.values[e]),s=[];for(i=n.length;i--;)t=n[i],s.push({isNull:null===t,value:t,color:this.calcColor(i,t,e),offset:e});return s},calcColor:function(t,i,s){var o,a,r=this.colorMapByIndex,l=this.colorMapByValue,h=this.options;return o=this.stacked?h.get("stackedBarColor"):0>i?h.get("negBarColor"):h.get("barColor"),0===i&&h.get("zeroColor")!==e&&(o=h.get("zeroColor")),l&&(a=l.get(i))?o=a:r&&r.length>s&&(o=r[s]),n.isArray(o)?o[t%o.length]:o},renderRegion:function(t,s){var o,a,r,l,h,c,u,p,f,g,m=this.values[t],x=this.options,v=this.xaxisOffset,b=[],y=this.range,w=this.stacked,k=this.target,C=t*this.totalBarWidth,S=this.canvasHeightEf,M=this.yoffset;if(m=n.isArray(m)?m:[m],u=m.length,p=m[0],l=d(null,m),g=d(v,m,!0),l)return x.get("nullColor")?(r=s?x.get("nullColor"):this.calcHighlightColor(x.get("nullColor"),x),o=M>0?M-1:M,k.drawRect(C,o,this.barWidth-1,0,r,r)):e;for(h=M,c=0;u>c;c++){if(p=m[c],w&&p===v){if(!g||f)continue;f=!0}a=y>0?i.floor(S*(i.abs(p-v)/y))+1:1,v>p||p===v&&0===M?(o=h,h+=a):(o=M-a,M-=a),r=this.calcColor(c,p,t),s&&(r=this.calcHighlightColor(r,x)),b.push(k.drawRect(C,o,this.barWidth-1,a-1,r,r))}return 1===b.length?b[0]:b}}),n.fn.sparkline.tristate=S=o(n.fn.sparkline._base,w,{type:"tristate",init:function(t,i,s,o,a){var r=parseInt(s.get("barWidth"),10),l=parseInt(s.get("barSpacing"),10);S._super.init.call(this,t,i,s,o,a),this.regionShapes={},this.barWidth=r,this.barSpacing=l,this.totalBarWidth=r+l,this.values=n.map(i,Number),this.width=o=i.length*r+(i.length-1)*l,n.isArray(s.get("colorMap"))?(this.colorMapByIndex=s.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=s.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===e&&(this.colorMapByValue=new v(this.colorMapByValue))),this.initTarget()},getRegion:function(t,e,n){return i.floor(e/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===e,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,i){var e,n,s=this.values,o=this.options,a=this.colorMapByIndex,r=this.colorMapByValue;return e=r&&(n=r.get(t))?n:a&&a.length>i?a[i]:s[i]<0?o.get("negBarColor"):s[i]>0?o.get("posBarColor"):o.get("zeroBarColor")},renderRegion:function(t,e){var n,s,o,a,r,l,h=this.values,c=this.options,u=this.target;return n=u.pixelHeight,o=i.round(n/2),a=t*this.totalBarWidth,h[t]<0?(r=o,s=o-1):h[t]>0?(r=0,s=o-1):(r=o-1,s=2),l=this.calcColor(h[t],t),null!==l?(e&&(l=this.calcHighlightColor(l,c)),u.drawRect(a,r,this.barWidth-1,s-1,l,l)):void 0}}),n.fn.sparkline.discrete=M=o(n.fn.sparkline._base,w,{type:"discrete",init:function(t,s,o,a,r){M._super.init.call(this,t,s,o,a,r),this.regionShapes={},this.values=s=n.map(s,Number),this.min=i.min.apply(i,s),this.max=i.max.apply(i,s),this.range=this.max-this.min,this.width=a="auto"===o.get("width")?2*s.length:this.width,this.interval=i.floor(a/s.length),this.itemWidth=a/s.length,o.get("chartRangeMin")!==e&&(o.get("chartRangeClip")||o.get("chartRangeMin")<this.min)&&(this.min=o.get("chartRangeMin")),o.get("chartRangeMax")!==e&&(o.get("chartRangeClip")||o.get("chartRangeMax")>this.max)&&(this.max=o.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===o.get("lineHeight")?i.round(.3*this.canvasHeight):o.get("lineHeight"))},getRegion:function(t,e,n){return i.floor(e/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===e,value:this.values[t],offset:t}},renderRegion:function(t,e){var n,s,o,a,l=this.values,h=this.options,c=this.min,u=this.max,p=this.range,d=this.interval,f=this.target,g=this.canvasHeight,m=this.lineHeight,x=g-m;return s=r(l[t],c,u),a=t*d,n=i.round(x-x*((s-c)/p)),o=h.get("thresholdColor")&&s<h.get("thresholdValue")?h.get("thresholdColor"):h.get("lineColor"),e&&(o=this.calcHighlightColor(o,h)),f.drawLine(a,n,a,n+m,o)}}),n.fn.sparkline.bullet=R=o(n.fn.sparkline._base,{type:"bullet",init:function(t,n,s,o,a){var r,l,h;R._super.init.call(this,t,n,s,o,a),this.values=n=c(n),h=n.slice(),h[0]=null===h[0]?h[2]:h[0],h[1]=null===n[1]?h[2]:h[1],r=i.min.apply(i,n),l=i.max.apply(i,n),r=s.get("base")===e?0>r?r:0:s.get("base"),this.min=r,this.max=l,this.range=l-r,this.shapes={},this.valueShapes={},this.regiondata={},this.width=o="auto"===s.get("width")?"4.0em":o,this.target=this.$el.simpledraw(o,a,s.get("composite")),n.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,i,n){var s=this.target.getShapeAt(t,i,n);return s!==e&&this.shapes[s]!==e?this.shapes[s]:e},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var i,e=this.currentRegion,n=this.valueShapes[e];switch(delete this.shapes[n],e.substr(0,1)){case"r":i=this.renderRange(e.substr(1),t);break;case"p":i=this.renderPerformance(t);break;case"t":i=this.renderTarget(t)}this.valueShapes[e]=i.id,this.shapes[i.id]=e,this.target.replaceWithShape(n,i)},renderRange:function(t,e){var n=this.values[t],s=i.round(this.canvasWidth*((n-this.min)/this.range)),o=this.options.get("rangeColors")[t-2];return e&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(0,0,s-1,this.canvasHeight-1,o,o)},renderPerformance:function(t){var e=this.values[1],n=i.round(this.canvasWidth*((e-this.min)/this.range)),s=this.options.get("performanceColor");return t&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(0,i.round(.3*this.canvasHeight),n-1,i.round(.4*this.canvasHeight)-1,s,s)},renderTarget:function(t){var e=this.values[0],n=i.round(this.canvasWidth*((e-this.min)/this.range)-this.options.get("targetWidth")/2),s=i.round(.1*this.canvasHeight),o=this.canvasHeight-2*s,a=this.options.get("targetColor");return t&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(n,s,this.options.get("targetWidth")-1,o-1,a,a)},render:function(){var t,i,e=this.values.length,n=this.target;if(R._super.render.call(this)){for(t=2;e>t;t++)i=this.renderRange(t).append(),this.shapes[i.id]="r"+t,this.valueShapes["r"+t]=i.id;null!==this.values[1]&&(i=this.renderPerformance().append(),this.shapes[i.id]="p1",this.valueShapes.p1=i.id),null!==this.values[0]&&(i=this.renderTarget().append(),this.shapes[i.id]="t0",this.valueShapes.t0=i.id),n.render()}}}),n.fn.sparkline.pie=P=o(n.fn.sparkline._base,{type:"pie",init:function(t,e,s,o,a){var r,l=0;if(P._super.init.call(this,t,e,s,o,a),this.shapes={},this.valueShapes={},this.values=e=n.map(e,Number),"auto"===s.get("width")&&(this.width=this.height),e.length>0)for(r=e.length;r--;)l+=e[r];this.total=l,this.initTarget(),this.radius=i.floor(i.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,i,n){var s=this.target.getShapeAt(t,i,n);return s!==e&&this.shapes[s]!==e?this.shapes[s]:e},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===e,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var i=this.currentRegion,e=this.renderSlice(i,t),n=this.valueShapes[i];delete this.shapes[n],this.target.replaceWithShape(n,e),this.valueShapes[i]=e.id,this.shapes[e.id]=i},renderSlice:function(t,n){var s,o,a,r,l,h=this.target,c=this.options,u=this.radius,p=c.get("borderWidth"),d=c.get("offset"),f=2*i.PI,g=this.values,m=this.total,x=d?2*i.PI*(d/360):0;for(r=g.length,a=0;r>a;a++){if(s=x,o=x,m>0&&(o=x+f*(g[a]/m)),t===a)return l=c.get("sliceColors")[a%c.get("sliceColors").length],n&&(l=this.calcHighlightColor(l,c)),h.drawPieSlice(u,u,u-p,s,o,e,l);x=o}},render:function(){var t,n,s=this.target,o=this.values,a=this.options,r=this.radius,l=a.get("borderWidth");if(P._super.render.call(this)){for(l&&s.drawCircle(r,r,i.floor(r-l/2),a.get("borderColor"),e,l).append(),n=o.length;n--;)o[n]&&(t=this.renderSlice(n).append(),this.valueShapes[n]=t.id,this.shapes[t.id]=n);s.render()}}}),n.fn.sparkline.box=T=o(n.fn.sparkline._base,{type:"box",init:function(t,i,e,s,o){T._super.init.call(this,t,i,e,s,o),this.values=n.map(i,Number),this.width="auto"===e.get("width")?"4.0em":s,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==e&&t.push({field:"lo",value:this.loutlier}),this.routlier!==e&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==e&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==e&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,n,s,o,a,r,h,c,u,p,d,f=this.target,g=this.values,m=g.length,x=this.options,v=this.canvasWidth,b=this.canvasHeight,y=x.get("chartRangeMin")===e?i.min.apply(i,g):x.get("chartRangeMin"),w=x.get("chartRangeMax")===e?i.max.apply(i,g):x.get("chartRangeMax"),k=0;if(T._super.render.call(this)){if(x.get("raw"))x.get("showOutliers")&&g.length>5?(n=g[0],t=g[1],o=g[2],a=g[3],r=g[4],h=g[5],c=g[6]):(t=g[0],o=g[1],a=g[2],r=g[3],h=g[4]);else if(g.sort(function(t,i){return t-i}),o=l(g,1),a=l(g,2),r=l(g,3),s=r-o,x.get("showOutliers")){for(t=h=e,u=0;m>u;u++)t===e&&g[u]>o-s*x.get("outlierIQR")&&(t=g[u]),g[u]<r+s*x.get("outlierIQR")&&(h=g[u]);n=g[0],c=g[m-1]}else t=g[0],h=g[m-1];this.quartiles=[o,a,r],this.lwhisker=t,this.rwhisker=h,this.loutlier=n,this.routlier=c,d=v/(w-y+1),x.get("showOutliers")&&(k=i.ceil(x.get("spotRadius")),v-=2*i.ceil(x.get("spotRadius")),d=v/(w-y+1),t>n&&f.drawCircle((n-y)*d+k,b/2,x.get("spotRadius"),x.get("outlierLineColor"),x.get("outlierFillColor")).append(),c>h&&f.drawCircle((c-y)*d+k,b/2,x.get("spotRadius"),x.get("outlierLineColor"),x.get("outlierFillColor")).append()),f.drawRect(i.round((o-y)*d+k),i.round(.1*b),i.round((r-o)*d),i.round(.8*b),x.get("boxLineColor"),x.get("boxFillColor")).append(),f.drawLine(i.round((t-y)*d+k),i.round(b/2),i.round((o-y)*d+k),i.round(b/2),x.get("lineColor")).append(),f.drawLine(i.round((t-y)*d+k),i.round(b/4),i.round((t-y)*d+k),i.round(b-b/4),x.get("whiskerColor")).append(),f.drawLine(i.round((h-y)*d+k),i.round(b/2),i.round((r-y)*d+k),i.round(b/2),x.get("lineColor")).append(),f.drawLine(i.round((h-y)*d+k),i.round(b/4),i.round((h-y)*d+k),i.round(b-b/4),x.get("whiskerColor")).append(),f.drawLine(i.round((a-y)*d+k),i.round(.1*b),i.round((a-y)*d+k),i.round(.9*b),x.get("medianColor")).append(),x.get("target")&&(p=i.ceil(x.get("spotRadius")),f.drawLine(i.round((x.get("target")-y)*d+k),i.round(b/2-p),i.round((x.get("target")-y)*d+k),i.round(b/2+p),x.get("targetColor")).append(),f.drawLine(i.round((x.get("target")-y)*d+k-p),i.round(b/2),i.round((x.get("target")-y)*d+k+p),i.round(b/2),x.get("targetColor")).append()),f.render()}}}),W=o({init:function(t,i,e,n){this.target=t,this.id=i,this.type=e,this.args=n},append:function(){return this.target.appendShape(this),this}}),I=o({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,i,e){t&&(this.width=t,this.height=i,this.target=e,this.lastShapeId=null,e[0]&&(e=e[0]),n.data(e,"_jqs_vcanvas",this))},drawLine:function(t,i,e,n,s,o){return this.drawShape([[t,i],[e,n]],s,o)},drawShape:function(t,i,e,n){return this._genShape("Shape",[t,i,e,n])},drawCircle:function(t,i,e,n,s,o){return this._genShape("Circle",[t,i,e,n,s,o])},drawPieSlice:function(t,i,e,n,s,o,a){return this._genShape("PieSlice",[t,i,e,n,s,o,a])},drawRect:function(t,i,e,n,s,o){return this._genShape("Rect",[t,i,e,n,s,o])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,i){n(i).html(t)},_calculatePixelDims:function(t,i,e){var s;s=this._pxregex.exec(i),s?this.pixelHeight=s[1]:this.pixelHeight=n(e).height(),s=this._pxregex.exec(t),s?this.pixelWidth=s[1]:this.pixelWidth=n(e).width()},_genShape:function(t,i){var e=_++;return i.unshift(e),new W(this,e,t,i)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,i){alert("replaceWithShape not implemented")},insertAfterShape:function(t,i){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,i,e){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),L=o(I,{init:function(i,s,o,a){L._super.init.call(this,i,s,o),this.canvas=t.createElement("canvas"),o[0]&&(o=o[0]),n.data(o,"_jqs_vcanvas",this),n(this.canvas).css({display:"inline-block",width:i,height:s,verticalAlign:"top"}),this._insert(this.canvas,o),this._calculatePixelDims(i,s,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=a,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=e,n(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,i,n){var s=this.canvas.getContext("2d");return t!==e&&(s.strokeStyle=t),s.lineWidth=n===e?1:n,i!==e&&(s.fillStyle=i),s},reset:function(){var t=this._getContext();t.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=e},_drawShape:function(t,i,n,s,o){var a,r,l=this._getContext(n,s,o);for(l.beginPath(),l.moveTo(i[0][0]+.5,i[0][1]+.5),a=1,r=i.length;r>a;a++)l.lineTo(i[a][0]+.5,i[a][1]+.5);n!==e&&l.stroke(),s!==e&&l.fill(),this.targetX!==e&&this.targetY!==e&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,n,s,o,a,r,l){var h=this._getContext(a,r,l);h.beginPath(),h.arc(n,s,o,0,2*i.PI,!1),this.targetX!==e&&this.targetY!==e&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),a!==e&&h.stroke(),r!==e&&h.fill()},_drawPieSlice:function(t,i,n,s,o,a,r,l){var h=this._getContext(r,l);h.beginPath(),h.moveTo(i,n),h.arc(i,n,s,o,a,!1),h.lineTo(i,n),h.closePath(),r!==e&&h.stroke(),l&&h.fill(),this.targetX!==e&&this.targetY!==e&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,i,e,n,s,o,a){return this._drawShape(t,[[i,e],[i+n,e],[i+n,e+s],[i,e+s],[i,e]],o,a)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,i){var e,n=this.shapeseq;for(this.shapes[i.id]=i,e=n.length;e--;)n[e]==t&&(n[e]=i.id);delete this.shapes[t]},replaceWithShapes:function(t,i){var e,n,s,o=this.shapeseq,a={};for(n=t.length;n--;)a[t[n]]=!0;for(n=o.length;n--;)e=o[n],a[e]&&(o.splice(n,1),delete this.shapes[e],s=n);for(n=i.length;n--;)o.splice(s,0,i[n].id),this.shapes[i[n].id]=i[n]},insertAfterShape:function(t,i){var e,n=this.shapeseq;for(e=n.length;e--;)if(n[e]===t)return n.splice(e+1,0,i.id),void(this.shapes[i.id]=i)},removeShapeId:function(t){var i,e=this.shapeseq;for(i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}delete this.shapes[t]},getShapeAt:function(t,i,e){return this.targetX=i,this.targetY=e,this.render(),this.currentTargetShapeId},render:function(){var t,i,e,n=this.shapeseq,s=this.shapes,o=n.length,a=this._getContext();for(a.clearRect(0,0,this.pixelWidth,this.pixelHeight),e=0;o>e;e++)t=n[e],i=s[t],this["_draw"+i.type].apply(this,i.args);this.interact||(this.shapes={},this.shapeseq=[])}}),z=o(I,{init:function(i,e,s){var o;z._super.init.call(this,i,e,s),s[0]&&(s=s[0]),n.data(s,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),n(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:i,height:e,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,s),this._calculatePixelDims(i,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,o='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",o),this.group=n(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,i,n,s,o){var a,r,l,h,c,u,p,d=[];for(p=0,u=i.length;u>p;p++)d[p]=""+i[p][0]+","+i[p][1];return a=d.splice(0,1),o=o===e?1:o,r=n===e?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+n+'" ',l=s===e?' filled="false"':' fillColor="'+s+'" filled="true" ',h=d[0]===d[d.length-1]?"x ":"",c='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+r+l+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+a+" l "+d.join(", ")+" "+h+'e"> </v:shape>'},_drawCircle:function(t,i,n,s,o,a,r){var l,h,c;return i-=s,n-=s,l=o===e?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+o+'" ',h=a===e?' filled="false"':' fillColor="'+a+'" filled="true" ',c='<v:oval  id="jqsshape'+t+'" '+l+h+' style="position:absolute;top:'+n+"px; left:"+i+"px; width:"+2*s+"px; height:"+2*s+'px"></v:oval>'},_drawPieSlice:function(t,n,s,o,a,r,l,h){var c,u,p,d,f,g,m,x;if(a===r)return"";if(r-a===2*i.PI&&(a=0,r=2*i.PI),u=n+i.round(i.cos(a)*o),p=s+i.round(i.sin(a)*o),d=n+i.round(i.cos(r)*o),f=s+i.round(i.sin(r)*o),u===d&&p===f){if(r-a<i.PI)return"";u=d=n+o,p=f=s}return u===d&&p===f&&r-a<i.PI?"":(c=[n-o,s-o,n+o,s+o,u,p,d,f],g=l===e?' stroked="false" ':' strokeWeight="1px" strokeColor="'+l+'" ',m=h===e?' filled="false"':' fillColor="'+h+'" filled="true" ',
x='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+g+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+n+","+s+" wa "+c.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,i,e,n,s,o,a){return this._drawShape(t,[[i,e],[i,e+s],[i+n,e+s],[i+n,e],[i,e]],o,a)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var i=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",i):this.prerender+=i,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,i){var e=n("#jqsshape"+t),s=this["_draw"+i.type].apply(this,i.args);e[0].outerHTML=s},replaceWithShapes:function(t,i){var e,s=n("#jqsshape"+t[0]),o="",a=i.length;for(e=0;a>e;e++)o+=this["_draw"+i[e].type].apply(this,i[e].args);for(s[0].outerHTML=o,e=1;e<t.length;e++)n("#jqsshape"+t[e]).remove()},insertAfterShape:function(t,i){var e=n("#jqsshape"+t),s=this["_draw"+i.type].apply(this,i.args);e[0].insertAdjacentHTML("afterEnd",s)},removeShapeId:function(t){var i=n("#jqsshape"+t);this.group.removeChild(i[0])},getShapeAt:function(t,i,e){var n=t.id.substr(8);return n},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),$(function(){"use strict";$(".sparkbar").sparkline("html",{type:"bar",disableHiddenCheck:!1,width:"36px",height:"36px"})}),$(function(){"use strict";$(".bar-sparkline-btn").sparkline([[3,5],[4,7],[2,5],[3,5],[4,7],[4,7],[5,7],[2,7],[3,5]],{type:"bar",height:"53px",barWidth:"5px",barSpacing:"2px"})}),$(function(){"use strict";$(".bar-sparkline-btn-2").sparkline([[3,5],[4,7],[2,5],[3,5],[4,7],[4,7],[5,7],[2,7],[3,5]],{type:"bar",height:"40px",barWidth:"3px",barSpacing:"2px"})}),$(function(){"use strict";$(".bar-sparkline").sparkline([[4,8],[2,7],[2,6],[2,7],[3,5],[2,7],[2,6],[2,7],[3,5],[4,7],[2,5],[3,5],[4,7],[4,7],[5,7],[4,8],[2,7],[2,6],[2,7],[3,5]],{type:"bar",height:"35px",barWidth:"5px",barSpacing:"2px"})}),$(function(){"use strict";$(".bar-sparkline-2").sparkline("html",{type:"bar",barColor:"black",height:"35px",barWidth:"5px",barSpacing:"2px"})}),$(function(){"use strict";$(".tristate-sparkline").sparkline("html",{type:"tristate",barColor:"black",height:"35px",barWidth:"5px",barSpacing:"2px"})}),$(function(){"use strict";$(".discrete-sparkline").sparkline("html",{type:"discrete",barColor:"black",height:"45px",barSpacing:"4px"})}),$(function(){"use strict";$(".pie-sparkline").sparkline("html",{type:"pie",barColor:"black",height:"45px",width:"45px"})}),$(function(){"use strict";$(".pie-sparkline-alt").sparkline("html",{type:"pie",width:"100",height:"100",sliceColors:["#EFEFEF","#5BCCF6","#FA7753"],borderWidth:0})}),$(function(){"use strict";var t=[10,8,5,7,4,4,1];$(".dynamic-sparkline").sparkline(t,{height:"35px",width:"135px"})}),$(function(){"use strict";var t=[10,8,5,7,4,4,1];$(".dynamic-sparkline-5").sparkline(t,{height:"57px",width:"100px"})}),$(function(){"use strict";$(".tristate-sparkline-2").sparkline("html",{type:"tristate",posBarColor:"#ec6a00",negBarColor:"#ffc98a",zeroBarColor:"#000000",height:"35px",barWidth:"5px",barSpacing:"2px"})}),$(function(){"use strict";$(".infobox-sparkline").sparkline([[3,5],[4,7],[2,5],[3,5],[4,7],[4,7],[5,7],[2,7],[3,5]],{type:"bar",height:"53",barWidth:5,barSpacing:2,zeroAxis:!1,barColor:"#ccc",negBarColor:"#ddd",zeroColor:"#ccc",stackedBarColor:["#871010","#ffebeb"]})}),$(function(){"use strict";$(".infobox-sparkline-2").sparkline([[3,5],[4,7],[2,5],[3,5],[4,7],[4,7],[5,7],[2,7],[3,5]],{type:"bar",height:"53",barWidth:5,barSpacing:2,zeroAxis:!1,barColor:"#ccc",negBarColor:"#ddd",zeroColor:"#ccc",stackedBarColor:["#000000","#cccccc"]})}),$(function(){"use strict";$(".infobox-sparkline-pie").sparkline([1.5,2.5,2],{type:"pie",width:"57",height:"57",sliceColors:["#0d4f26","#00712b","#2eee76"],offset:0,borderWidth:0,borderColor:"#000000"})}),$(function(){"use strict";$(".infobox-sparkline-tri").sparkline([1,1,0,1,-1,-1,1,-1,0,0,2,1],{type:"tristate",height:"53",posBarColor:"#1bb1fc",negBarColor:"#3d57ed",zeroBarColor:"#000000",barWidth:5})}),$(function(){"use strict";$(".sprk-1").sparkline("html",{type:"line",width:"50%",height:"65",lineColor:"#b2b2b2",fillColor:"#ffffff",lineWidth:1,spotColor:"#0065ff",minSpotColor:"#0065ff",maxSpotColor:"#0065ff",spotRadius:4})}),$(function(){"use strict";$(".sparkline-big").sparkline("html",{type:"line",width:"85%",height:"80",highlightLineColor:"#ffffff",lineColor:"#ffffff",fillColor:"transparent",lineWidth:1,spotColor:"#ffffff",minSpotColor:"#ffffff",maxSpotColor:"#ffffff",highlightSpotColor:"#000000",spotRadius:4})}),$(function(){"use strict";$(".sparkline-big-alt").sparkline("html",{type:"line",width:"90%",height:"110",highlightLineColor:"#accfff",lineColor:"rgba(0,0,0,0.1)",fillColor:"#fcfeff",lineWidth:1,spotColor:"transparent",minSpotColor:"transparent",maxSpotColor:"transparent",highlightSpotColor:"#65a6ff",spotRadius:6})}),$(function(){"use strict";$(".sparkline-bar-big").sparkline("html",{type:"bar",width:"85%",height:"90",barWidth:6,barSpacing:2,zeroAxis:!1,barColor:"#ffffff",negBarColor:"#ffffff"})}),$(function(){"use strict";$(".sparkline-bar-big-color").sparkline("html",{type:"bar",height:"90",width:"85%",barWidth:6,barSpacing:2,zeroAxis:!1,barColor:"#9CD159",negBarColor:"#9CD159"})}),$(function(){"use strict";$(".sparkline-bar-big-color-2").sparkline([405,450,302,405,230,311,405,342,579,405,450,302,183,579,180,311,405,342,579,405,450,302,405,230,311,405,342,579,405,450,302,405,342,432,405,450,302,183,579,180,311,405,342,579,183,579,180,311,405,342,579,405,450,302,405,230,311,405,342,579,405,450,302,405,342,432,405,450,302,183,579,180,311,405,342,579,240,180,311,450,302,370,210],{type:"bar",height:"88",width:"85%",barWidth:6,barSpacing:2,zeroAxis:!1,barColor:"#9CD159",negBarColor:"#9CD159"})});